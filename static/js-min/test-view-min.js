var requirejs,require,define;!function(global){function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var n;for(n=0;n<t.length&&(!t[n]||!e(t[n],n,t));n+=1);}}function eachReverse(t,e){if(t){var n;for(n=t.length-1;n>-1&&(!t[n]||!e(t[n],n,t));n-=1);}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var n;for(n in t)if(hasProp(t,n)&&e(t[n],n))break}function mixin(t,e,n,i){return e&&eachProp(e,function(e,r){(n||!hasProp(t,r))&&(i&&"string"!=typeof e?(t[r]||(t[r]={}),mixin(t[r],e,n,i)):t[r]=e)}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,n,i){var r=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return r.requireType=t,r.requireModules=i,n&&(r.originalError=n),r}function newContext(t){function e(t){var e,n;for(e=0;t[e];e+=1)if(n=t[e],"."===n)t.splice(e,1),e-=1;else if(".."===n){if(1===e&&(".."===t[2]||".."===t[0]))break;e>0&&(t.splice(e-1,2),e-=2)}}function n(t,n,i){var r,o,s,a,u,c,l,f,h,p,d,m=n&&n.split("/"),v=m,g=E.map,y=g&&g["*"];if(t&&"."===t.charAt(0)&&(n?(v=getOwn(E.pkgs,n)?m=[n]:m.slice(0,m.length-1),t=v.concat(t.split("/")),e(t),o=getOwn(E.pkgs,r=t[0]),t=t.join("/"),o&&t===r+"/"+o.main&&(t=r)):0===t.indexOf("./")&&(t=t.substring(2))),i&&g&&(m||y)){for(a=t.split("/"),u=a.length;u>0;u-=1){if(l=a.slice(0,u).join("/"),m)for(c=m.length;c>0;c-=1)if(s=getOwn(g,m.slice(0,c).join("/")),s&&(s=getOwn(s,l))){f=s,h=u;break}if(f)break;!p&&y&&getOwn(y,l)&&(p=getOwn(y,l),d=u)}!f&&p&&(f=p,h=d),f&&(a.splice(0,h,f),t=a.join("/"))}return t}function i(t){isBrowser&&each(scripts(),function(e){return e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===b.contextName?(e.parentNode.removeChild(e),!0):void 0})}function r(t){var e=getOwn(E.paths,t);return e&&isArray(e)&&e.length>1?(i(t),e.shift(),b.require.undef(t),b.require([t]),!0):void 0}function o(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function s(t,e,i,r){var s,a,u,c,l=null,f=e?e.name:null,h=t,p=!0,d="";return t||(p=!1,t="_@r"+(P+=1)),c=o(t),l=c[0],t=c[1],l&&(l=n(l,f,r),a=getOwn(j,l)),t&&(l?d=a&&a.normalize?a.normalize(t,function(t){return n(t,f,r)}):n(t,f,r):(d=n(t,f,r),c=o(d),l=c[0],d=c[1],i=!0,s=b.nameToUrl(d))),u=!l||a||i?"":"_unnormalized"+(M+=1),{prefix:l,name:d,parentMap:e,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(l?l+"!"+d:d)+u}}function a(t){var e=t.id,n=getOwn(S,e);return n||(n=S[e]=new b.Module(t)),n}function u(t,e,n){var i=t.id,r=getOwn(S,i);!hasProp(j,i)||r&&!r.defineEmitComplete?(r=a(t),r.error&&"error"===e?n(r.error):r.on(e,n)):"defined"===e&&n(j[i])}function c(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){var n=getOwn(S,e);n&&(n.error=t,n.events.error&&(i=!0,n.emit("error",t)))}),i||req.onError(t))}function l(){globalDefQueue.length&&(apsp.apply(q,[q.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function f(t){delete S[t],delete O[t]}function h(t,e,n){var i=t.map.id;t.error?t.emit("error",t.error):(e[i]=!0,each(t.depMaps,function(i,r){var o=i.id,s=getOwn(S,o);!s||t.depMatched[r]||n[o]||(getOwn(e,o)?(t.defineDep(r,j[o]),t.check()):h(s,e,n))}),n[i]=!0)}function p(){var t,e,n,o,s=1e3*E.waitSeconds,a=s&&b.startTime+s<(new Date).getTime(),u=[],l=[],f=!1,d=!0;if(!y){if(y=!0,eachProp(O,function(n){if(t=n.map,e=t.id,n.enabled&&(t.isDefine||l.push(n),!n.error))if(!n.inited&&a)r(e)?(o=!0,f=!0):(u.push(e),i(e));else if(!n.inited&&n.fetched&&t.isDefine&&(f=!0,!t.prefix))return d=!1}),a&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=b.contextName,c(n);d&&each(l,function(t){h(t,{},{})}),a&&!o||!f||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,p()},50)),y=!1}}function d(t){hasProp(j,t[0])||a(s(t[0],null,!0)).init(t[1],t[2])}function m(t,e,n,i){t.detachEvent&&!isOpera?i&&t.detachEvent(i,e):t.removeEventListener(n,e,!1)}function v(t){var e=t.currentTarget||t.srcElement;return m(e,b.onScriptLoad,"load","onreadystatechange"),m(e,b.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function g(){var t;for(l();q.length;){if(t=q.shift(),null===t[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));d(t)}}var y,w,b,x,_,E={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},S={},O={},k={},q=[],j={},T={},P=1,M=1;return x={require:function(t){return t.require?t.require:t.require=b.makeRequire(t.map)},exports:function(t){return t.usingExports=!0,t.map.isDefine?t.exports?t.exports:t.exports=j[t.map.id]={}:void 0},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){var e,n=getOwn(E.pkgs,t.map.id);return e=n?getOwn(E.config,t.map.id+"/"+n.main):getOwn(E.config,t.map.id),e||{}},exports:j[t.map.id]}}},w=function(t){this.events=getOwn(k,t.id)||{},this.map=t,this.shim=getOwn(E.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(t,e,n,i){i=i||{},this.inited||(this.factory=e,n?this.on("error",n):this.events.error&&(n=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var t=this.map;return this.shim?(b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()})),void 0):t.prefix?this.callPlugin():this.load()}},load:function(){var t=this.map.url;T[t]||(T[t]=!0,b.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=b.execCb(n,o,i,r)}catch(s){t=s}else r=b.execCb(n,o,i,r);if(this.map.isDefine&&(e=this.module,e&&void 0!==e.exports&&e.exports!==this.exports?r=e.exports:void 0===r&&this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",c(this.error=t)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(j[n]=r,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,i=s(t.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,l,h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,d=b.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(t){return n(t,p,!0)})||""),o=s(t.prefix+"!"+h,this.map.parentMap),u(o,"defined",bind(this,function(t){this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),l=getOwn(S,o.id),l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(t){this.emit("error",t)})),l.enable()),void 0):(r=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})}),r.error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(S,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&f(t.map.id)}),c(t)}),r.fromText=bind(this,function(n,i){var o=t.name,u=s(o),l=useInteractive;i&&(n=i),l&&(useInteractive=!1),a(u),hasProp(E.config,e)&&(E.config[o]=E.config[e]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+e+" failed: "+f,f,[e]))}l&&(useInteractive=!0),this.depMaps.push(u),b.completeLoad(o),d([o],r)}),i.load(t.name,d,r,E),void 0)})),b.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){O[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var n,i,r;if("string"==typeof t){if(t=s(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,r=getOwn(x,t.id))return this.depExports[e]=r(this),void 0;this.depCount+=1,u(t,"defined",bind(this,function(t){this.defineDep(e,t),this.check()})),this.errback&&u(t,"error",bind(this,this.errback))}n=t.id,i=S[n],hasProp(x,n)||!i||i.enabled||b.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(S,t.id);e&&!e.enabled&&b.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var n=this.events[t];n||(n=this.events[t]=[]),n.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},b={config:E,contextName:t,registry:S,defined:j,urlFetched:T,defQueue:q,Module:w,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(t){t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/");var e=E.pkgs,n=E.shim,i={paths:!0,config:!0,map:!0};eachProp(t,function(t,e){i[e]?"map"===e?(E.map||(E.map={}),mixin(E[e],t,!0,!0)):mixin(E[e],t,!0):E[e]=t}),t.shim&&(eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=b.makeShimExports(t)),n[e]=t}),E.shim=n),t.packages&&(each(t.packages,function(t){var n;t="string"==typeof t?{name:t}:t,n=t.location,e[t.name]={name:t.name,location:n||t.name,main:(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),E.pkgs=e),eachProp(S,function(t,e){t.inited||t.map.unnormalized||(t.map=s(e))}),(t.deps||t.callback)&&b.require(t.deps||[],t.callback)},makeShimExports:function(t){function e(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}return e},makeRequire:function(e,i){function r(n,o,u){var l,f,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),u):e&&hasProp(x,n)?x[n](S[e.id]):req.get?req.get(b,n,e,r):(f=s(n,e,!1,!0),l=f.id,hasProp(j,l)?j[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(g(),b.nextTick(function(){g(),h=a(s(null,e)),h.skipMap=i.skipMap,h.init(n,o,u,{enabled:!0}),p()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(t){var i,r=t.lastIndexOf("."),o=t.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=t.substring(r,t.length),t=t.substring(0,r)),b.nameToUrl(n(t,e&&e.id,!0),i,!0)},defined:function(t){return hasProp(j,s(t,e,!1,!0).id)},specified:function(t){return t=s(t,e,!1,!0).id,hasProp(j,t)||hasProp(S,t)}}),e||(r.undef=function(t){l();var n=s(t,e,!0),i=getOwn(S,t);delete j[t],delete T[n.url],delete k[t],i&&(i.events.defined&&(k[t]=i.events),f(t))}),r},enable:function(t){var e=getOwn(S,t.id);e&&a(t).enable()},completeLoad:function(t){var e,n,i,o=getOwn(E.shim,t)||{},s=o.exports;for(l();q.length;){if(n=q.shift(),null===n[0]){if(n[0]=t,e)break;e=!0}else n[0]===t&&(e=!0);d(n)}if(i=getOwn(S,t),!e&&!hasProp(j,t)&&i&&!i.inited){if(!(!E.enforceDefine||s&&getGlobal(s)))return r(t)?void 0:c(makeError("nodefine","No define call for "+t,null,[t]));d([t,o.deps||[],o.exportsFn])}p()},nameToUrl:function(t,e,n){var i,r,o,s,a,u,c,l,f;if(req.jsExtRegExp.test(t))l=t+(e||"");else{for(i=E.paths,r=E.pkgs,a=t.split("/"),u=a.length;u>0;u-=1){if(c=a.slice(0,u).join("/"),o=getOwn(r,c),f=getOwn(i,c)){isArray(f)&&(f=f[0]),a.splice(0,u,f);break}if(o){s=t===o.name?o.location+"/"+o.main:o.location,a.splice(0,u,s);break}}l=a.join("/"),l+=e||(/\?/.test(l)||n?"":".js"),l=("/"===l.charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+l}return E.urlArgs?l+((-1===l.indexOf("?")?"?":"&")+E.urlArgs):l},load:function(t,e){req.load(b,t,e)},execCb:function(t,e,n,i){return e.apply(i,n)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=v(t);b.completeLoad(e.id)}},onScriptError:function(t){var e=v(t);return r(e.id)?void 0:c(makeError("scripterror","Script error for: "+e.id,t,[e.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){return"interactive"===t.readyState?interactiveScript=t:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,n,i){var r,o,s=defContextName;return isArray(t)||"string"==typeof t||(o=t,isArray(e)?(t=e,e=n,n=i):t=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(t,e,n)},req.config=function(t){return req(t)},req.nextTick="undefined"!=typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t){var e=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return e.type=t.scriptType||"text/javascript",e.charset="utf-8",e.async=!0,e},req.load=function(t,e,n){var i,r=t&&t.config||{};if(isBrowser)return i=req.createNode(r,e,n),i.setAttribute("data-requirecontext",t.contextName),i.setAttribute("data-requiremodule",e),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",t.onScriptLoad,!1),i.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",t.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),t.completeLoad(e)}catch(o){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+n,o,[e]))}},isBrowser&&eachReverse(scripts(),function(t){return head||(head=t.parentNode),dataMain=t.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(t,e,n){var i,r;"string"!=typeof t&&(n=e,e=t,t=null),isArray(e)||(n=e,e=null),!e&&isFunction(n)&&(e=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(t,n){e.push(n)}),e=(1===n.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(t||(t=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([t,e,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("req/require",function(){}),define("sayyes/util/log",[],function(){var t,e,n,i,r,o,s,a,u,c,l;return s=1,a=2,u=4,c=1,l=2,o=/[\d]{2}:[\d]{2}:[\d]{2}/g,i=function(){n||(n=new t,n.history=[],n.keep_history=!1,n.max_history=100,n.verbose=!0,n.verbose_type=c)},r=function(t,i){var r=new e(t,i);n.keep_history&&(n.history.push(r),n.history.length-1===n.max_history&&n.history.shift()),n.verbose&&__yeld(r)},__yeld=function(t){if(t){if(n.verbose_type===l)return console.dir(t),void 0;var e;switch(t.type){case s:e=console.info;break;case a:e=console.warn;break;case u:e=console.error}e&&e.apply(window.console,[t.prefix].concat(t.message))}},e=function(t,e){this.type=t,this.message=e;var n=new Date;this.prefix=(n.toTimeString().match(o)[0]||"")+":"+n.getMilliseconds()},t=function(){this.type_object=l,this.type_message=c},t.prototype={info:function(){r(s,Array.prototype.slice.call(arguments))},warn:function(){r(a,Array.prototype.slice.call(arguments))},error:function(){r(u,Array.prototype.slice.call(arguments))},dump:function(){for(var t=0,e=this.history.length;e>t;t++)__yeld(this.history[t])},clear:function(){this.history=[]}},i(),n});var Zepto=function(){function t(t){return null==t?String(t):Y[J.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function o(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return t instanceof Array}function a(t){return"number"==typeof t.length}function u(t){return P.call(t,function(t){return null!=t})}function c(t){return t.length>0?S.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in C?C[t]:C[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||N[l(t)]?e:e+"px"}function p(t){var e,n;return A[t]||(e=M.createElement(t),M.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),A[t]=n),A[t]}function d(t){return"children"in t?T.call(t.children):S.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function m(t,e,n){for(E in e)n&&(o(e[E])||s(e[E]))?(o(e[E])&&!o(t[E])&&(t[E]={}),s(e[E])&&!s(t[E])&&(t[E]=[]),m(t[E],e[E],n)):e[E]!==_&&(t[E]=e[E])}function v(t,e){return null==e?S(t):S(t).filter(e)}function g(t,n,i,r){return e(n)?n.call(t,i,r):n}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e){var n=t.className,i=n&&n.baseVal!==_;return e===_?i?n.baseVal:n:(i?n.baseVal=e:t.className=e,void 0)}function b(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?S.parseJSON(t):t:e):t}catch(n){return t}}function x(t,e){e(t);for(var n in t.childNodes)x(t.childNodes[n],e)}var _,E,S,O,k,q,j=[],T=j.slice,P=j.filter,M=window.document,A={},C={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,R=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,z=/^(?:body|html)$/i,I=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],U=M.createElement("table"),$=M.createElement("tr"),F={tr:M.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:$,th:$,"*":M.createElement("div")},Z=/complete|loaded|interactive/,W=/^\.([\w-]+)$/,H=/^#([\w-]*)$/,V=/^[\w-]+$/,Y={},J=Y.toString,X={},G=M.createElement("div");return X.matches=function(t,e){if(!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=G).appendChild(t),i=~X.qsa(r,e).indexOf(t),o&&G.removeChild(t),i},k=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},q=function(t){return P.call(t,function(e,n){return t.indexOf(e)==n})},X.fragment=function(t,e,n){var i,r,s;return R.test(t)&&(i=S(M.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(L,"<$1></$2>")),e===_&&(e=D.test(t)&&RegExp.$1),e in F||(e="*"),s=F[e],s.innerHTML=""+t,i=S.each(T.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=S(i),S.each(n,function(t,e){I.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},X.Z=function(t,e){return t=t||[],t.__proto__=S.fn,t.selector=e||"",t},X.isZ=function(t){return t instanceof X.Z},X.init=function(t,n){if(t){if(e(t))return S(M).ready(t);if(X.isZ(t))return t;var i;if(s(t))i=u(t);else if(r(t))i=[t],t=null;else if(D.test(t))i=X.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==_)return S(n).find(t);i=X.qsa(M,t)}return X.Z(i,t)}return X.Z()},S=function(t,e){return X.init(t,e)},S.extend=function(t){var e,n=T.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){m(t,n,e)}),t},X.qsa=function(t,e){var n;return i(t)&&H.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:T.call(W.test(e)?t.getElementsByClassName(RegExp.$1):V.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},S.contains=function(t,e){return t!==e&&t.contains(e)},S.type=t,S.isFunction=e,S.isWindow=n,S.isArray=s,S.isPlainObject=o,S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},S.inArray=function(t,e,n){return j.indexOf.call(e,t,n)},S.camelCase=k,S.trim=function(t){return null==t?"":String.prototype.trim.call(t)},S.uuid=0,S.support={},S.expr={},S.map=function(t,e){var n,i,r,o=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return c(o)},S.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},S.grep=function(t,e){return P.call(t,e)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),S.fn={forEach:j.forEach,reduce:j.reduce,push:j.push,sort:j.sort,indexOf:j.indexOf,concat:j.concat,map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(T.apply(this,arguments))},ready:function(t){return Z.test(M.readyState)?t(S):M.addEventListener("DOMContentLoaded",function(){t(S)},!1),this},get:function(t){return t===_?T.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return j.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):S(P.call(this,function(e){return X.matches(e,t)}))},add:function(t,e){return S(q(this.concat(S(t,e))))},is:function(t){return this.length>0&&X.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==_)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?T.call(t):S(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return S(n)},has:function(t){return this.filter(function(){return r(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:S(t)},find:function(t){var e,n=this;return e="object"==typeof t?S(t).filter(function(){var t=this;return j.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(X.qsa(this[0],t)):this.map(function(){return X.qsa(this,t)})},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=S(t));n&&!(r?r.indexOf(n)>=0:X.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(q(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return P.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=S(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=S(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===_?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;S(this).empty().append(g(this,t,e,n))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===_?"":""+t})},attr:function(t,e){var n;return"string"==typeof t&&e===_?0==this.length||1!==this[0].nodeType?_:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(r(t))for(E in t)y(this,E,t[E]);else y(this,t,g(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&y(this,t)})},prop:function(t,e){return e===_?this[0]&&this[0][t]:this.each(function(n){this[t]=g(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+l(t),e);return null!==n?b(n):_},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=S(this),i=g(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof e)return i.style[k(e)]||r.getPropertyValue(e);if(s(e)){var o={};return S.each(s(e)?e:[e],function(t,e){o[e]=i.style[k(e)]||r.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=l(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(l(e))});else for(E in e)e[E]||0===e[E]?a+=l(E)+":"+h(E,e[E])+";":this.each(function(){this.style.removeProperty(l(E))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return j.some.call(this,function(t){return this.test(w(t))},f(t))},addClass:function(t){return this.each(function(e){O=[];var n=w(this),i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){S(this).hasClass(t)||O.push(t)},this),O.length&&w(this,n+(n?" ":"")+O.join(" "))})},removeClass:function(t){return this.each(function(e){return t===_?w(this,""):(O=w(this),g(this,t,e,O).split(/\s+/g).forEach(function(t){O=O.replace(f(t)," ")}),w(this,O.trim()),void 0)})},toggleClass:function(t,e){return this.each(function(n){var i=S(this),r=g(this,t,n,w(this));r.split(/\s+/g).forEach(function(t){(e===_?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})})},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===_?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=z.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(S(t).css("margin-top"))||0,n.left-=parseFloat(S(t).css("margin-left"))||0,i.top+=parseFloat(S(e[0]).css("border-top-width"))||0,i.left+=parseFloat(S(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||M.body;t&&!z.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(r){var o,s=this[0];return r===_?n(s)?s["inner"+e]:i(s)?s.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){s=S(this),s.css(t,g(this,r,e,s[t]()))})}}),B.forEach(function(e,n){var i=n%2;S.fn[e]=function(){var e,r,o=S.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:X.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null,o.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!r)return S(t).remove();x(r.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},S.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return S(t)[e](this),this}}),X.Z.prototype=S.fn,X.uniq=q,X.deserializeValue=b,S.zepto=X,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),define("zepto/zepto",function(){}),function(t){function e(e,i){var u=e[a],c=u&&r[u];if(void 0===i)return c||n(e);if(c){if(i in c)return c[i];var l=s(i);if(l in c)return c[l]}return o.call(t(e),i)}function n(e,n,o){var u=e[a]||(e[a]=++t.uuid),c=r[u]||(r[u]=i(e));return void 0!==n&&(c[s(n)]=o),c}function i(e){var n={};return t.each(e.attributes||u,function(e,i){0==i.name.indexOf("data-")&&(n[s(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var r={},o=t.fn.data,s=t.camelCase,a=t.expando="Zepto"+ +new Date,u=[];t.fn.data=function(i,r){return void 0===r?t.isPlainObject(i)?this.each(function(e,r){t.each(i,function(t,e){n(r,t,e)})}):0==this.length?void 0:e(this[0],i):this.each(function(){n(this,i,r)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[a],i=n&&r[n];i&&t.each(e,function(){delete i[s(this)]})})}}(Zepto),define("zepto/data",function(){}),function(t){function e(t){return t._zid||(t._zid=p++)}function n(t,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);
return(h[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!a.test(t.ns)||o&&e(t.fn)!==e(o)||s&&t.sel!=s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(e,n,i){"string"!=t.type(e)?t.each(e,i):e.split(/\s/).forEach(function(t){i(t,n)})}function s(t,e){return t.del&&("focus"==t.e||"blur"==t.e)||!!e}function a(t){return m[t]||t}function u(n,r,u,c,l,f){var p=e(n),d=h[p]||(h[p]=[]);o(r,u,function(e,r){var o=i(e);o.fn=r,o.sel=c,o.e in m&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=l&&l(r,e);var u=o.del||r;o.proxy=function(t){var e=u.apply(n,[t].concat(t.data));return e===!1&&(t.preventDefault(),t.stopPropagation()),e},o.i=d.length,d.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,s(o,f))})}function c(t,i,r,u,c){var l=e(t);o(i||"",r,function(e,i){n(t,e,i,u).forEach(function(e){delete h[l][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,s(e,c))})})}function l(e){var n,i={originalEvent:e};for(n in e)y.test(n)||void 0===e[n]||(i[n]=e[n]);return t.each(w,function(t,n){i[t]=function(){return this[n]=v,e[t].apply(e,arguments)},i[n]=g}),i}function f(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){t.defaultPrevented=!0,e.call(t)}}}var h=(t.zepto.qsa,{}),p=1,d={},m={mouseenter:"mouseover",mouseleave:"mouseout"};d.click=d.mousedown=d.mouseup=d.mousemove="MouseEvents",t.event={add:u,remove:c},t.proxy=function(n,i){if(t.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=e(n),r}if("string"==typeof i)return t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){u(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){c(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,i){u(this,t,e,null,function(t,e){return function(){var n=t.apply(i,arguments);return c(i,e,t),n}})})};var v=function(){return!0},g=function(){return!1},y=/^([A-Z]|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,i){return this.each(function(r,o){u(o,n,i,e,function(n){return function(i){var r,s=t(i.target).closest(e,o).get(0);return s?(r=t.extend(l(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))):void 0}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){c(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i){return!n||t.isFunction(n)?this.bind(e,n||i):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return!n||t.isFunction(n)?this.unbind(e,n||i):this.undelegate(n,e,i)},t.fn.trigger=function(e,n){return("string"==typeof e||t.isPlainObject(e))&&(e=t.Event(e)),f(e),e.data=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(s,a){r=l("string"==typeof e?t.Event(e):e),r.data=i,r.target=a,t.each(n(a,e.type||e),function(t,e){return o=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){"string"!=typeof t&&(e=t,t=e.type);var n=document.createEvent(d[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),n.isDefaultPrevented=function(){return n.defaultPrevented},n}}(Zepto),define("zepto/event",function(){}),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){c=null,f.last&&(f.el.trigger("longTap"),f={})}function i(){c&&clearTimeout(c),c=null}function r(){s&&clearTimeout(s),a&&clearTimeout(a),u&&clearTimeout(u),c&&clearTimeout(c),s=a=u=c=null,f={}}function o(t){return t.pointerType==t.MSPOINTER_TYPE_TOUCH&&t.isPrimary}var s,a,u,c,l,f={},h=750;t(document).ready(function(){var p,d,m,v=0,g=0;"MSGesture"in window&&(l=new MSGesture,l.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(f.el.trigger("swipe"),f.el.trigger("swipe"+e))}).on("touchstart MSPointerDown",function(e){("MSPointerDown"!=e.type||o(e))&&(m="MSPointerDown"==e.type?e:e.touches[0],p=Date.now(),d=p-(f.last||p),f.el=t("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),f.x1=m.pageX,f.y1=m.pageY,d>0&&250>=d&&(f.isDoubleTap=!0),f.last=p,c=setTimeout(n,h),l&&"MSPointerDown"==e.type&&l.addPointer(e.pointerId))}).on("touchmove MSPointerMove",function(t){("MSPointerMove"!=t.type||o(t))&&(m="MSPointerMove"==t.type?t:t.touches[0],i(),f.x2=m.pageX,f.y2=m.pageY,v+=Math.abs(f.x1-f.x2),g+=Math.abs(f.y1-f.y2))}).on("touchend MSPointerUp",function(n){("MSPointerUp"!=n.type||o(n))&&(i(),f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?u=setTimeout(function(){f.el.trigger("swipe"),f.el.trigger("swipe"+e(f.x1,f.x2,f.y1,f.y2)),f={}},0):"last"in f&&(30>v&&30>g?a=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=r,f.el.trigger(e),f.isDoubleTap?(f.el.trigger("doubleTap"),f={}):s=setTimeout(function(){s=null,f.el.trigger("singleTap"),f={}},250)},0):f={}),v=g=0)}).on("touchcancel MSPointerCancel",r),t(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),define("zepto/touch",function(){}),function(t){function e(t){var e=this.os={},n=this.browser={},i=t.match(/WebKit\/([\d.]+)/),r=t.match(/(Android);?\s+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&t.match(/TouchPad/),l=t.match(/Kindle\/([\d.]+)/),f=t.match(/Silk\/([\d._]+)/),h=t.match(/(BlackBerry).*Version\/([\d.]+)/),p=t.match(/(BB10).*Version\/([\d.]+)/),d=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=t.match(/PlayBook/),v=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),g=t.match(/Firefox\/([\d.]+)/),y=t.match(/MSIE ([\d.]+)/),w=i&&t.match(/Mobile\//)&&!v,b=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v,y=t.match(/MSIE\s([\d.]+)/);(n.webkit=!!i)&&(n.version=i[1]),r&&(e.android=!0,e.version=r[2]),a&&!s&&(e.ios=e.iphone=!0,e.version=a[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),s&&(e.ios=e.ipod=!0,e.version=s[3]?s[3].replace(/_/g,"."):null),u&&(e.webos=!0,e.version=u[2]),c&&(e.touchpad=!0),h&&(e.blackberry=!0,e.version=h[2]),p&&(e.bb10=!0,e.version=p[2]),d&&(e.rimtabletos=!0,e.version=d[2]),m&&(n.playbook=!0),l&&(e.kindle=!0,e.version=l[1]),f&&(n.silk=!0,n.version=f[1]),!f&&e.android&&t.match(/Kindle Fire/)&&(n.silk=!0),v&&(n.chrome=!0,n.version=v[1]),g&&(n.firefox=!0,n.version=g[1]),y&&(n.ie=!0,n.version=y[1]),w&&(t.match(/Safari/)||e.ios)&&(n.safari=!0),b&&(n.webview=!0),y&&(n.ie=!0,n.version=y[1]),e.tablet=!!(o||m||r&&!t.match(/Mobile/)||g&&t.match(/Tablet/)||y&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(r||a||u||h||p||v&&t.match(/Android/)||v&&t.match(/CriOS\/([\d.]+)/)||g&&t.match(/Mobile/)||y&&t.match(/Touch/)))}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),define("zepto/detect",function(){}),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var i=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),define("zepto/form",function(){}),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.defaultPrevented}function n(t,n,i,r){return t.global?e(n||y,i,r):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:(n(e,i,"ajaxSend",[t,e]),void 0)}function s(t,e,i){var r=i.context,o="success";i.success.call(r,t,o,e),n(i,r,"ajaxSuccess",[e,i,t]),u(o,e,i)}function a(t,e,i,r){var o=r.context;r.error.call(o,i,e,t),n(r,o,"ajaxError",[i,r,t||e]),u(e,i,r)}function u(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==E?"html":t==_?"json":b.test(t)?"script":x.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data))}function p(e,n,i,r){var o=!t.isFunction(n);return{url:e,data:o?n:void 0,success:o?t.isFunction(i)?i:void 0:n,dataType:o?r||i:i}}function d(e,n,i,r){var o,s=t.isArray(n);t.each(n,function(n,a){o=t.type(a),r&&(n=i?r:r+"["+(s?"":n)+"]"),!r&&s?e.add(a.name,a.value):"array"==o||!i&&"object"==o?d(e,a,i,n):e.add(n,a)})}var m,v,g=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,_="application/json",E="text/html",S=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){if(!("type"in e))return t.ajax(e);var n,i=e.jsonpCallback,r=(t.isFunction(i)?i():i)||"jsonp"+ ++g,u=y.createElement("script"),l=function(){clearTimeout(n),t(u).remove(),delete window[r]},f=function(t){l(),t&&"timeout"!=t||(window[r]=c),a(null,t||"abort",h,e)},h={abort:f};return o(h,e)===!1?(f("abort"),!1):(window[r]=function(t){l(),s(t,h,e)},u.onerror=function(){f("error")},u.src=e.url.replace(/=\?/,"="+r),t("head").append(u),e.timeout>0&&(n=setTimeout(function(){f("timeout")},e.timeout)),h)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:_,xml:"application/xml, text/xml",html:E,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{});for(m in t.ajaxSettings)void 0===n[m]&&(n[m]=t.ajaxSettings[m]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var r=n.dataType,u=/=\?/.test(n.url);if("jsonp"==r||u)return u||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n);var p,d=n.accepts[r],g={},y=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr();n.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),d&&(g.Accept=d,d.indexOf(",")>-1&&(d=d.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(d)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&(g["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=t.extend(g,n.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=c,clearTimeout(p);var e,i=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==y){r=r||l(w.getResponseHeader("content-type")),e=w.responseText;try{"script"==r?(1,eval)(e):"xml"==r?e=w.responseXML:"json"==r&&(e=S.test(e)?null:t.parseJSON(e))}catch(o){i=o}i?a(i,"parsererror",w,n):s(e,w,n)}else a(w.statusText||null,w.status?"error":"abort",w,n)}};var b="async"in n?n.async:!0;w.open(n.type,n.url,b);for(v in n.headers)w.setRequestHeader(v,n.headers[v]);return o(w,n)===!1?(w.abort(),!1):(n.timeout>0&&(p=setTimeout(function(){w.onreadystatechange=c,w.abort(),a(null,"timeout",w,n)},n.timeout)),w.send(n.data?n.data:null),w)},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,s=e.split(/\s/),a=p(e,n,i),u=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(e){o.html(r?t("<div>").html(e.replace(w,"")).find(r):e),u&&u.apply(o,arguments)},t.ajax(a),this};var O=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(O(t)+"="+O(e))},d(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),define("zepto/ajax",function(){}),define("sayyes/modules/core",["require","zepto/zepto","zepto/data","zepto/event","zepto/touch","zepto/detect","zepto/form","zepto/ajax","req/require"],function(t){t("zepto/zepto"),t("zepto/data"),t("zepto/event"),t("zepto/touch"),t("zepto/detect"),t("zepto/form"),t("zepto/ajax"),t("req/require")}),define("lib/domReady",[],function(){function t(t){var e;for(e=0;e<t.length;e+=1)t[e](c)}function e(){var e=l;u&&e.length&&(l=[],t(e))}function n(){u||(u=!0,s&&clearInterval(s),e())}function i(t){return u?t(c):l.push(t),i}var r,o,s,a="undefined"!=typeof window&&window.document,u=!a,c=a?document:null,l=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(f){}o.doScroll&&r&&window.external&&(s=setInterval(function(){try{o.doScroll(),n()}catch(t){}},30))}var h=!isNaN(parseFloat(navigator.appVersion.split("MSIE")[1])),p=h?/complete/:/interactive|complete/;document.readyState&&document.readyState.match(p)&&n()}return i.version="2.0.1",i.load=function(t,e,n,r){r.isBuild?n(null):i(n)},i}),define("mout/object/hasOwn",[],function(){function t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}return t}),define("mout/object/forIn",[],function(){function t(){r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=!0;for(var t in{toString:null})i=!1}function e(e,o,s){var a,u=0;null==i&&t();for(a in e)if(n(o,e,a,s)===!1)break;if(i)for(;(a=r[u++])&&(e[a]===Object.prototype[a]||n(o,e,a,s)!==!1););}function n(t,e,n,i){return t.call(i,e[n],n,e)}var i,r;return e}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(t,e){function n(n,i,r){e(n,function(e,o){return t(n,o)?i.call(r,n[o],o,n):void 0})}return n}),define("mout/object/mixIn",["./forOwn"],function(t){function e(e){for(var i,r=0,o=arguments.length;++r<o;)i=arguments[r],null!=i&&t(i,n,e);return e}function n(t,e){this[e]=t}return e}),define("mout/array/forEach",[],function(){function t(t,e,n){if(null!=t)for(var i=-1,r=t.length;++i<r&&e.call(n,t[i],i,t)!==!1;);}return t}),define("mout/function/prop",[],function(){function t(t){return function(e){return e[t]}}return t}),define("mout/lang/kindOf",[],function(){function t(t){return null===t?"Null":t===e?"Undefined":n.exec(i.call(t))[1]}var e,n=/^\[object (.*)\]$/,i=Object.prototype.toString;return t}),define("mout/lang/isKind",["./kindOf"],function(t){function e(e,n){return t(e)===n}return e}),define("mout/lang/isArray",["./isKind"],function(t){var e=Array.isArray||function(e){return t(e,"Array")};return e}),define("mout/object/deepMatches",["./forOwn","../lang/isArray"],function(t,e){function n(t,e){for(var n=-1,i=t.length;++n<i;)if(o(t[n],e))return!0;return!1}function i(t,e){for(var i=-1,r=e.length;++i<r;)if(!n(t,e[i]))return!1;return!0}function r(e,n){var i=!0;return t(n,function(t,n){return o(e[n],t)?void 0:i=!1}),i}function o(t,n){return t&&"object"==typeof t?e(t)&&e(n)?i(t,n):r(t,n):t===n}return o}),define("mout/function/makeIterator_",["./prop","../object/deepMatches"],function(t,e){function n(n,i){switch(typeof n){case"function":return"undefined"!=typeof i?function(t,e,r){return n.call(i,t,e,r)}:n;case"object":return null!=n?function(t){return e(t,n)}:n;case"string":case"number":return t(n);default:return n}}return n}),define("mout/array/every",["../function/makeIterator_"],function(t){function e(e,n,i){n=t(n,i);var r=!0;if(null==e)return r;for(var o=-1,s=e.length;++o<s;)if(!n(e[o],o,e)){r=!1;break}return r}return e}),function(t,e){"object"==typeof exports&&exports?module.exports=e:"function"==typeof define&&define.amd?define("mustache/mustache",e):t.Mustache=e}(this,function(){function t(t,e){return RegExp.prototype.test.call(t,e)}function e(e){return!t(d,e)}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t){return String(t).replace(/[&<>"'\/]/g,function(t){return w[t]})}function r(t){this.string=t,this.tail=t,this.pos=0}function o(t,e){this.view=t,this.parent=e,this.clearCache()}function s(){this.clearCache()}function a(t){function e(t,e,i){if(!n[t]){var r=a(e);n[t]=function(t,e){return r(t,e,i)}}return n[t]}var n={};return function(n,i,r){for(var o,s,a="",u=0,c=t.length;c>u;++u)switch(o=t[u],o[0]){case"#":s=r.slice(o[3],o[5]),a+=n._section(o[1],i,s,e(u,o[4],r));break;case"^":a+=n._inverted(o[1],i,e(u,o[4],r));break;case">":a+=n._partial(o[1],i);break;case"&":a+=n._name(o[1],i);break;case"name":a+=n._escaped(o[1],i);break;case"text":a+=o[1]}return a}}function u(t){for(var e,n=[],i=n,r=[],o=0,s=t.length;s>o;++o)switch(e=t[o],e[0]){case"#":case"^":r.push(e),i.push(e),i=e[4]=[];break;case"/":var a=r.pop();a[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}function c(t){for(var e,n,i=[],r=0,o=t.length;o>r;++r)e=t[r],"text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(n=e,i.push(e));return i}function l(t){return[new RegExp(n(t[0])+"\\s*"),new RegExp("\\s*"+n(t[1]))]}var f={};f.name="mustache.js",f.version="0.7.2",f.tags=["{{","}}"],f.Scanner=r,f.Context=o,f.Writer=s;var h=/\s*/,p=/\s+/,d=/\S/,m=/\s*=/,v=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/,y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};f.escape=i,r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},r.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return e},o.make=function(t){return t instanceof o?t:new o(t)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(t){return new o(t,this)},o.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."===t)e=this.view;else for(var n=this;n;){if(t.indexOf(".")>0){var i=t.split("."),r=0;for(e=n.view;e&&r<i.length;)e=e[i[r++]]}else e=n.view[t];if(null!=e)break;n=n.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(t,e){var n=this._cache[t];if(!n){var i=f.parse(t,e);n=this._cache[t]=this.compileTokens(i,t)}return n},s.prototype.compilePartial=function(t,e,n){var i=this.compile(e,n);return this._partialCache[t]=i,i},s.prototype.compileTokens=function(t,e){var n=a(t),i=this;return function(t,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var s in r)i.compilePartial(s,r[s]);return n(i,o.make(t),e)}},s.prototype.render=function(t,e,n){return this.compile(t)(e,n)},s.prototype._section=function(t,e,n,i){var r=e.lookup(t);switch(typeof r){case"object":if(y(r)){for(var o="",s=0,a=r.length;a>s;++s)o+=i(this,e.push(r[s]));return o}return r?i(this,e.push(r)):"";case"function":var u=this,c=function(t){return u.render(t,e)},l=r.call(e.view,n,c);return null!=l?l:"";default:if(r)return i(this,e)}return""},s.prototype._inverted=function(t,e,n){var i=e.lookup(t);return!i||y(i)&&0===i.length?n(this,e):""},s.prototype._partial=function(t,e){t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t));var n=this._partialCache[t];return n?n(e):""},s.prototype._name=function(t,e){var n=e.lookup(t);return"function"==typeof n&&(n=n.call(e.view)),null==n?"":String(n)},s.prototype._escaped=function(t,e){return f.escape(this._name(t,e))},f.parse=function(t,i){function o(){if(S&&!O)for(;E.length;)_.splice(E.pop(),1);else E=[];S=!1,O=!1}if(t=t||"",i=i||f.tags,"string"==typeof i&&(i=i.split(p)),2!==i.length)throw new Error("Invalid tags: "+i.join(", "));for(var s,a,d,y,w=l(i),b=new r(t),x=[],_=[],E=[],S=!1,O=!1;!b.eos();){if(s=b.pos,d=b.scanUntil(w[0]))for(var k=0,q=d.length;q>k;++k)y=d.charAt(k),e(y)?E.push(_.length):O=!0,_.push(["text",y,s,s+1]),s+=1,"\n"===y&&o();if(s=b.pos,!b.scan(w[0]))break;if(S=!0,a=b.scan(g)||"name",b.scan(h),"="===a)d=b.scanUntil(m),b.scan(m),b.scanUntil(w[1]);else if("{"===a){var j=new RegExp("\\s*"+n("}"+i[1]));d=b.scanUntil(j),b.scan(v),b.scanUntil(w[1]),a="&"}else d=b.scanUntil(w[1]);if(!b.scan(w[1]))throw new Error("Unclosed tag at "+b.pos);if("/"===a){if(0===x.length)throw new Error('Unopened section "'+d+'" at '+s);var T=x.pop();if(T[1]!==d)throw new Error('Unclosed section "'+T[1]+'" at '+s)}var P=[a,d,s,b.pos];if(_.push(P),"#"===a||"^"===a)x.push(P);else if("name"===a||"{"===a||"&"===a)O=!0;else if("="===a){if(i=d.split(p),2!==i.length)throw new Error("Invalid tags at "+s+": "+i.join(", "));w=l(i)}}var T=x.pop();if(T)throw new Error('Unclosed section "'+T[1]+'" at '+b.pos);return u(c(_))};var b=new s;return f.clearCache=function(){return b.clearCache()},f.compile=function(t,e){return b.compile(t,e)},f.compilePartial=function(t,e,n){return b.compilePartial(t,e,n)},f.compileTokens=function(t,e){return b.compileTokens(t,e)},f.render=function(t,e,n){return b.render(t,e,n)},f.to_html=function(t,e,n,i){var r=f.render(t,e,n);return"function"!=typeof i?r:(i(r),void 0)},f}()),function(t){function e(t,e,n,i,r){this._listener=e,this._isOnce=n,this.context=i,this._signal=t,this._priority=r||0}function n(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function i(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){i.prototype.dispatch.apply(t,arguments)}}e.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,n,i,r){var o,s=this._indexOfListener(t,i);if(-1!==s){if(o=this._bindings[s],o.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new e(this,t,n,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===t&&n.context===e)return i;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return n(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return n(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){n(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var t,e=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=e),n){t=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(t[n]&&this._shouldPropagate&&t[n].execute(e)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=i;r.Signal=i,"function"==typeof define&&define.amd?define("signals/signals",[],function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:t.signals=r}(this),define("sayyes/plugins/plugin-nav",["sayyes/util/log"],function(t){var e,n,i,r;return i="click",r=/([\w-]+)$/,e=function(t,e){this.node=$(t),this.view=e,this.enable_ux()},e.prototype={click_handle:function(e){var n=e.target.href.match(r);n&&n[1]?this.view.on.nav.dispatch(n[1]):(e.preventDefault(),t.info("plugin-nav couldn't find nav value on:",e.target.href))},enable_ux:function(){this.node.on(i,this.click_handle.bind(this))},dispose:function(){this.node.off(i,this.click_handle.bind(this)),this.node=null,this.view=null}},function(i){function r(t,r){r&&(n=new e(r,i),i.plugin_closures.push(n))}return!i||i&&!i.html?(t.error("plugin-nav got no view!"),!1):(i.html.find("[data-role='nav']").each(r),!0)}}),define("mout/array/map",["../function/makeIterator_"],function(t){function e(e,n,i){n=t(n,i);var r=[];if(null==e)return r;for(var o=-1,s=e.length;++o<s;)r[o]=n(e[o],o,e);return r}return e}),define("mout/array/indexOf",[],function(){function t(t,e,n){if(n=n||0,null==t)return-1;for(var i=t.length,r=0>n?i+n:n;i>r;){if(t[r]===e)return r;r++}return-1}return t}),define("mout/array/filter",["../function/makeIterator_"],function(t){function e(e,n,i){n=t(n,i);var r=[];if(null==e)return r;for(var o,s=-1,a=e.length;++s<a;)o=e[s],n(o,s,e)&&r.push(o);return r}return e}),define("mout/array/unique",["./indexOf","./filter"],function(t,e){function n(t){return e(t,i)}function i(e,n,i){return-1===t(i,e,n+1)}return n}),define("mout/array/some",["../function/makeIterator_"],function(t){function e(e,n,i){n=t(n,i);var r=!1;if(null==e)return r;for(var o=-1,s=e.length;++o<s;)if(n(e[o],o,e)){r=!0;break}return r}return e}),define("mout/array/contains",["./indexOf"],function(t){function e(e,n){return-1!==t(e,n)}return e}),define("mout/array/difference",["./unique","./filter","./some","./contains"],function(t,e,n,i){function r(r){var o=Array.prototype.slice.call(arguments,1),s=e(t(r),function(t){return!n(o,function(e){return i(e,t)})});return s}return r}),define("mout/object/keys",["./forOwn"],function(t){var e=Object.keys||function(e){var n=[];return t(e,function(t,e){n.push(e)}),n};return e}),define("mout/lang/isString",["./isKind"],function(t){function e(e){return t(e,"String")}return e}),define("sayyes/util/model",["mout/array/map","mout/array/difference","mout/object/keys","mout/object/hasOwn","mout/object/mixIn","mout/lang/isString"],function(t,e,n,i,r,o){function s(t){return function(e){if(!o(e))throw"attempt to create a property that isn't a String";t[e]=null}}var a=function(){var o={};arguments.length&&(1===arguments.length&&"object"==typeof arguments[0]?o=arguments[0]:t(Array.prototype.slice.call(arguments),s(o))),this.implements=function(){if(!arguments.length)return!1;var t=n(o),i=null;return arguments.length&&(i=1===arguments.length&&"object"==typeof arguments[0]?n(arguments[0]):Array.prototype.slice.call(arguments)),t.length===i.length&&0===e(i,t).length},this.set=function(t,e){if(!this.has(t))throw"attempt to create new prop '"+t+"'";o[t]=e},this.has=function(t){return i(o,t)},this.get=function(t){return o[t]},this.keys=function(){return n(o)},this.compose=function(t){r(o,t)},this.clone=function(){return new a(o)},this.data=function(){return o}};return a}),define("sayyes/util/vo/result-vo",["sayyes/util/model"],function(t){var e=function(){return new t("status","exception","message","value")};return e}),define("sayyes/util/ajax",["sayyes/util/log","sayyes/util/vo/result-vo","signals/signals","mout/lang/kindOf","mout/array/every","mout/object/hasOwn"],function(t,e,n,i,r,o){function s(t){var n,s,a,u;if("json"===this.options.dataType)if("Object"===i(t)){if(s=r(this._xpect,function(e){switch(a=e[0],u=e[1],i(u)){case"Function":return o(t,a)&&u.call(null,t[a]);default:return o(t,a)&&t[a]===u}}),s===!1)return n=new e,n.set("status","error"),n.set("exception",this.NOT_MATCH),n.set("message","'"+a+"' doesn't match expected value"),this.result=n.data(),this.on.error.dispatch(this.result),void 0;this.result=t,this.on.success.dispatch(this.result)}else n=new e,n.set("status","error"),n.set("exception",this.MALFORMED_JSON),n.set("message","result isn't a valid JSON"),this.result=n.data(),this.on.error.dispatch(this.result);else this.result=t,this.on.success.dispatch(this.result)}function a(t){if(this._xpect)return s.bind(this)(t),void 0;if(null===t){var n=new e;return n.set("status","error"),n.set("exception",this.REQUEST_FAILED),n.set("message","XHR couldn't complete the resquest"),this.result=n.data(),this.on.error.dispatch(this.result),void 0}this.result=t,this.on.success.dispatch(this.result)}function u(t){this.result=new e,this.result.set("exception",t.status),this.result.set("message",t.responseText),this.on.error.dispatch(this.result.data())}function c(t){t.on={success:new n,error:new n},t.options={type:"GET",url:null,data:null,processData:!1,dataType:"json",timeout:2e3,context:t,cache:!0,success:a.bind(t),error:u.bind(t)},t.MALFORMED_JSON=-100,t.NOT_MATCH=-101,t.REQUEST_FAILED=-102,t.ALLOWED_TYPES=["json","jsonp","xml","html","text"]}var l=function(t){c(this),this.options.type=t||this.options.type};return l.prototype={method:function(t){return this.options.type=t||this.options.type,this},type:function(t,e){if(-1===this.ALLOWED_TYPES.indexOf(t))throw"argument must be:'"+this.ALLOWED_TYPES.join("','")+"'";return"jsonp"===t&&e&&(this.options.jsonpCallback=e),this.options.dataType=t||this.options.dataType,this},allow_cache:function(t){return this.options.cache=Boolean(t),this},success:function(t){if(!t||"function"!=typeof t)throw"argument must be a function";return this.on.success.add(t),this},error:function(t){if(!t||"function"!=typeof t)throw"argument must be a function";return this.on.error.add(t),this},dispose:function(){this.on.error.removeAll(),this.on.success.removeAll(),this.mock_data=null,c(this)},expect:function(t,e){return this._xpect||(this._xpect=[]),this._xpect.push([t,e]),this},mock:function(t){return this.mock_data=t,this},request:function(e,n){return e?(this.mock_data?(this.options.success(this.mock_data),this.mock_data=void 0):(this.options.url=e,this.options.data=n,t.info("ajax.request => "+e+" method:"+this.options.type," data:",this.options.data),$.ajax(this.options)),this):(t.error("ajax.request can't be done without url."),null)}},l}),define("sayyes/plugins/plugin-form",["mout/object/mixIn","sayyes/util/log","signals/signals","sayyes/util/ajax"],function(t,e,n,i){var r,o,s,a,u,c;
return c=/^[\w]+$/,s="submit",__fireAction=function(t){if(!t)return e.warn("plugin-form.__fireAction got no action to take!"),null;var n=t.split("="),i=n[1]||"";switch(i=i.match(c),n[0]){case"alert":this.view.show_alert();break;case"nav":this.view.on.nav.dispatch(i?i[0]:null)}},a=function(t){this.view.form_result=t.value,this.view.on.nav.dispatch(this.on_error)},u=function(t){this.view.form_result=t.value,this.view.on.nav.dispatch(this.on_success)},r=function(e){t(this,e),this.form=$(this.node),this.enable_ux(),this.service=null},r.prototype={submit_handle:function(t){t.preventDefault(),this.service||(this.service=new i,this.service.success(u.bind(this)).error(a.bind(this)).expect("status",function(t){return"error"!==t})),this.service.method(this.form.attr("method")).request(this.form.attr("action"),this.form.serialize())},enable_ux:function(){this.form.on(s,this.submit_handle.bind(this))},dispose:function(){this.form.off(s,this.submit_handle.bind(this)),this.form=null}},function(t){function n(n,i){if(i){var s=i.getAttribute("data-on-success"),a=i.getAttribute("data-on-error");s&&a?(o=new r({node:i,view:t,on_success:s,on_error:a}),t.plugin_closures.push(o)):e.error("plugin-form :: failed to init form, missing base attribute")}}return!t||t&&!t.html?(e.error("plugin-form got no view!"),!1):(t.html.find("form").each(n),!0)}}),define("sayyes/modules/view",["mout/object/mixIn","mout/array/forEach","mout/array/every","mustache/mustache","signals/signals","sayyes/util/log","sayyes/plugins/plugin-nav","sayyes/plugins/plugin-form"],function(t,e,n,i,r,o,s,a){function u(e,n){e.__id=++l,e.name=null,e.html=null,e.template_name=null,e.template_raw=null,e.template_fn=null,e.plugin_closures=null,e.form_result={},t(e,n),e.on={render:{failed:new r,passed:new r},open:{failed:new r,passed:new r},close:{failed:new r,passed:new r},nav:new r},e.signals_list=[e.on.render.failed,e.on.render.passed,e.on.open.failed,e.on.open.passed,e.on.close.failed,e.on.close.passed,e.on.nav];var o=document.getElementById(e.template_name);if(!o)throw"template:'"+e.template_name+"' not found!";if(e.template_raw=o.text.trim(),!e.template_raw||!e.template_raw.length)throw"template:'"+e.template_name+"' is empty!";e.template_fn=i.compile(e.template_raw)}var c,l,f,h,p;return f=[s,a],h="open",p="close",l=0,c=function(t){u(this,t)},c.prototype={render:function(t){try{this.html=$(this.template_fn(t))}catch(e){return this.on.render.failed.dispatch(this,e),void 0}this.on.render.passed.dispatch(this)},enable_ux:function(){this.plugin_closures=[],this.html&&n(f,function(t){return function(e){return e(t)}}(this))},disable_ux:function(){function t(t){t.dispose(),t=null}this.html&&e(this.plugin_closures,t),this.plugin_closures=null},open:function(){return this.html?(this.html.addClass(h),this.on.open.passed.dispatch(this),this.form_result={},void 0):(this.on.open.failed.dispatch(this),void 0)},close:function(){return this.html?(this.html.removeClass(h).addClass(p),this.on.close.passed.dispatch(this),void 0):(this.on.close.failed.dispatch(this),void 0)},show_alert:function(t){console.log("show alert",t)},close_alert:function(){console.log(value)},dispose:function(){this.html.removeClass(p),this.html=null;var t=n(this.signals_list,function(t){return t&&t.removeAll?(t.removeAll(),!0):!1});t||o.warn("view.dispose => problems dispose all signals.")}},function(t){if(!t)throw"view got undefined config";return new c(t)}}),define("sayyes/util/vo/view-vo",["sayyes/util/model"],function(t){var e=function(){return new t("name","template_name","data")};return e}),define("sayyes/util/vo/controller-vo",["sayyes/util/model"],function(t){var e=function(){return new t("id","attendant","client","start_with","views")};return e}),define("sayyes/helpers/helper-nav",[],function(){return{has_nav:function(){return!!this.nav&&!!this.nav.length}}}),define("mout/array/findIndex",["../function/makeIterator_"],function(t){function e(e,n,i){if(n=t(n,i),null==e)return-1;for(var r=-1,o=e.length;++r<o;)if(n(e[r],r,e))return r;return-1}return e}),define("mout/array/find",["./findIndex"],function(t){function e(e,n,i){var r=t(e,n,i);return r>=0?e[r]:void 0}return e}),define("sayyes/modules/controller",["sayyes/util/log","sayyes/modules/view","sayyes/util/vo/view-vo","sayyes/util/vo/controller-vo","sayyes/util/ajax","sayyes/helpers/helper-nav","mout/object/mixIn","mout/array/find","signals/signals"],function(t,e,n,i,r,o,s,a,u){function c(t,e){t.queued=null,t.current=null,t.previous=null,t.data={},t.scope=$(e),t.pooling={},t.on={warn:new u,info:new u,error:new u}}function l(t,e){return a(e,{name:t})}function f(e){t.error("fatal error, show alert box"),y(this,"controller fail =>",w)(e)}function h(){this.current&&(this.current.html.remove(),this.current.dispose(),y(this,"controller view '"+this.current.name+"' disposed.")(),this.previous=this.current),this.current=null,this.open()}function p(){this.current=this.queued,this.queued=null,this.current.enable_ux(),this.current.on.nav.add(d,this),y(this,"controller => view '"+this.current.name+"' opened.")()}function d(t){if(this.current&&this.current.name===t)return y(this,"controller => view '"+t+"' already opened opened.",b)(),void 0;var e=l(t,this.data.views);e?this.create_view(e):y(this,"controller => view '"+t+"' not found.",b)()}var m,v,g,y,w,b;return w="error",b="warn",v=new n,g=new i,y=function(e,n,i){return function(r){switch(i){case b:t.warn(n,r),e.on.warn.dispatch(n,r);break;case w:t.error(n,r),e.on.error.dispatch(n,r);break;default:t.info(n,r),e.on.info.dispatch(n,r)}}},m=function(t){c(this,t)},m.prototype={load_config:function(t,e,n){var i=new r;i.method("get").expect("status","output").expect("value",g.implements).error(y(this,"controller got invalid config!",w)).error(n).success(e).success(function(t){i.dispose(),this.define(t.value)}.bind(this)).request(t)},define:function(t){if(!g.implements(t))return y(this,"controller got invalid data initialize!",w)(),void 0;this.data=t,this.data.start_with=this.data.start_with||0;var e;switch(this.data.start_with.constructor.name){case"Number":e=this.data.views[this.data.start_with];break;case"String":e=l(this.data.start_with,this.data.views)}return e?(this.create_view(e),void 0):(y(this,"controller => failed to find view: "+this.data.start_with,w)(),void 0)},create_view:function(t){if(!v.implements(t))return y(this,"controller => malformed view template",w)(t),void 0;if(this.queued=this.pooling[t.name],!this.queued)try{this.queued=e(t)}catch(n){return y(this,"controller => view '"+t.name+"' failed to create.",w)(n),void 0}y(this,"controller => view '"+this.queued.name+"' created.")();var i=s({},t.data,this.current?this.current.form_result:{});this.render_view(i)},render_view:function(t){return this.queued?(t=t||{},this.queued.on.render.failed.addOnce(y(this,"controller => view '"+this.queued.name+"' failed to render.",w)),this.queued.on.render.passed.addOnce(this.close,this),this.queued.render(s(t,o)),void 0):(y(this,"controller => no queued view to render",w)(),void 0)},open:function(){return this.queued?this.queued.html&&this.queued.html.length?(this.scope.append(this.queued.html),this.queued.on.open.passed.addOnce(p,this),this.queued.on.open.failed.addOnce(f,this),this.queued.open(),void 0):(y(this,"controller => queued view has no html.",w)(),void 0):(y(this,"controller => no queued view to open!",w)(),void 0)},close:function(){return this.current?(this.current.on.close.passed.addOnce(h,this),this.current.on.close.failed.addOnce(f,this),this.current.disable_ux(),this.current.close(),void 0):(y(this,"controller => no current view to close, open queued.",b)(),this.open(),void 0)}},function(t){if(t)return new m(t);throw"undefined scope"}}),require(["sayyes/util/log","sayyes/modules/core","lib/domReady","sayyes/modules/controller"],function(t,e,n,i){function r(){var e;try{e=i(document.getElementById("sayyes-assistant"))}catch(n){return t.error("error to create controller",n),void 0}e.on.warn.add(function(){t.warn("ops! controller yeld a warning",arguments)}),e.on.error.add(function(){t.info("ops! controller found an error",arguments)}),e.create_view(window.mock)}n(r)}),define("sayyes/main/test-view",function(){});
//# sourceMappingURL=test-view-min.js.map