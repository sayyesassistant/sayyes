/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.8 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

//     Zepto.js
//     (c) 2010-2013 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */

/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,u,c,l,f,h,d,p,m=n&&n.split("/"),v=m,g=E.map,y=g&&g["*"];if(e&&"."===e.charAt(0)&&(n?(v=getOwn(E.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=v.concat(e.split("/")),t(e),o=getOwn(E.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&g&&(m||y)){for(a=e.split("/"),u=a.length;u>0;u-=1){if(l=a.slice(0,u).join("/"),m)for(c=m.length;c>0;c-=1)if(s=getOwn(g,m.slice(0,c).join("/")),s&&(s=getOwn(s,l))){f=s,h=u;break}if(f)break;!d&&y&&getOwn(y,l)&&(d=getOwn(y,l),p=u)}!f&&d&&(f=d,h=p),f&&(a.splice(0,h,f),e=a.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(E.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),b.require.undef(e),b.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,u,c,l=null,f=t?t.name:null,h=e,d=!0,p="";return e||(d=!1,e="_@r"+(P+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,r),a=getOwn(j,l)),e&&(l?p=a&&a.normalize?a.normalize(e,function(e){return n(e,f,r)}):n(e,f,r):(p=n(e,f,r),c=o(p),l=c[0],p=c[1],i=!0,s=b.nameToUrl(p))),u=!l||a||i?"":"_unnormalized"+(M+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:d,id:(l?l+"!"+p:p)+u}}function a(e){var t=e.id,n=getOwn(O,t);return n||(n=O[t]=new b.Module(e)),n}function u(e,t,n){var i=e.id,r=getOwn(O,i);!hasProp(j,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(j[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(O,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(q,[q.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete O[e],delete S[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(O,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,j[o]),e.check()):h(s,t,n))}),n[i]=!0)}function d(){var e,t,n,o,s=1e3*E.waitSeconds,a=s&&b.startTime+s<(new Date).getTime(),u=[],l=[],f=!1,p=!0;if(!y){if(y=!0,eachProp(S,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||l.push(n),!n.error))if(!n.inited&&a)r(t)?(o=!0,f=!0):(u.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(f=!0,!e.prefix))return p=!1}),a&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=b.contextName,c(n);p&&each(l,function(e){h(e,{},{})}),a&&!o||!f||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,d()},50)),y=!1}}function p(e){hasProp(j,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function v(e){var t=e.currentTarget||e.srcElement;return m(t,b.onScriptLoad,"load","onreadystatechange"),m(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(l();q.length;){if(e=q.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}}var y,w,b,x,_,E={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},O={},S={},k={},q=[],j={},T={},P=1,M=1;return x={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=j[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(E.pkgs,e.map.id);return t=n?getOwn(E.config,e.map.id+"/"+n.main):getOwn(E.config,e.map.id),t||{}},exports:j[e.map.id]}}},w=function(e){this.events=getOwn(k,e.id)||{},this.map=e,this.shim=getOwn(E.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},w.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;return this.shim?(b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=b.execCb(n,o,i,r)}catch(s){e=s}else r=b.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(j[n]=r,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,l,h=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,p=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(e){return n(e,d,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(O,o.id),l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()),void 0):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(O,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,u=s(o),l=useInteractive;i&&(n=i),l&&(useInteractive=!1),a(u),hasProp(E.config,t)&&(E.config[o]=E.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),b.completeLoad(o),p([o],r)}),i.load(e.name,p,r,E),void 0)})),b.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return this.depExports[t]=r(this),void 0;this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,i=O[n],hasProp(x,n)||!i||i.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(O,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},b={config:E,contextName:e,registry:O,defined:j,urlFetched:T,defQueue:q,Module:w,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=E.pkgs,n=E.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(E.map||(E.map={}),mixin(E[t],e,!0,!0)):mixin(E[t],e,!0):E[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),n[t]=e}),E.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),E.pkgs=t),eachProp(O,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,u){var l,f,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](O[t.id]):req.get?req.get(b,n,t,r):(f=s(n,t,!1,!0),l=f.id,hasProp(j,l)?j[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(g(),b.nextTick(function(){g(),h=a(s(null,t)),h.skipMap=i.skipMap,h.init(n,o,u,{enabled:!0}),d()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),b.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(j,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(j,e)||hasProp(O,e)}}),t||(r.undef=function(e){l();var n=s(e,t,!0),i=getOwn(O,e);delete j[e],delete T[n.url],delete k[e],i&&(i.events.defined&&(k[e]=i.events),f(e))}),r},enable:function(e){var t=getOwn(O,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(E.shim,e)||{},s=o.exports;for(l();q.length;){if(n=q.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(i=getOwn(O,e),!t&&!hasProp(j,e)&&i&&!i.inited){if(!(!E.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,n){var i,r,o,s,a,u,c,l,f;if(req.jsExtRegExp.test(e))l=e+(t||"");else{for(i=E.paths,r=E.pkgs,a=e.split("/"),u=a.length;u>0;u-=1){if(c=a.slice(0,u).join("/"),o=getOwn(r,c),f=getOwn(i,c)){isArray(f)&&(f=f[0]),a.splice(0,u,f);break}if(o){s=e===o.name?o.location+"/"+o.main:o.location,a.splice(0,u,s);break}}l=a.join("/"),l+=t||(/\?/.test(l)||n?"":".js"),l=("/"===l.charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+l}return E.urlArgs?l+((-1===l.indexOf("?")?"?":"&")+E.urlArgs):l},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=v(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=v(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("req/require",function(){}),define("sayyes/util/log",[],function(){var e,t,n,i,r,o,s,a,u,c,l;return s=1,a=2,u=4,c=1,l=2,o=/[\d]{2}:[\d]{2}:[\d]{2}/g,i=function(){n||(n=new e,n.history=[],n.keep_history=!1,n.max_history=100,n.verbose=!0,n.verbose_type=c)},r=function(e,i){var r=new t(e,i);n.keep_history&&(n.history.push(r),n.history.length-1===n.max_history&&n.history.shift()),n.verbose&&__yeld(r)},__yeld=function(e){if(e){if(n.verbose_type===l)return console.dir(e),void 0;var t;switch(e.type){case s:t=console.info;break;case a:t=console.warn;break;case u:t=console.error}t&&t.apply(window.console,[e.prefix].concat(e.message))}},t=function(e,t){this.type=e,this.message=t;var n=new Date;this.prefix=(n.toTimeString().match(o)[0]||"")+":"+n.getMilliseconds()},e=function(){this.type_object=l,this.type_message=c},e.prototype={info:function(){r(s,Array.prototype.slice.call(arguments))},warn:function(){r(a,Array.prototype.slice.call(arguments))},error:function(){r(u,Array.prototype.slice.call(arguments))},dump:function(){for(var e=0,t=this.history.length;t>e;e++)__yeld(this.history[e])},clear:function(){this.history=[]}},i(),n});var Zepto=function(){function e(e){return null==e?String(e):Y[J.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return e instanceof Array}function a(e){return"number"==typeof e.length}function u(e){return P.call(e,function(e){return null!=e})}function c(e){return e.length>0?O.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(e){return e in A?A[e]:A[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function h(e,t){return"number"!=typeof t||N[l(e)]?t:t+"px"}function d(e){var t,n;return C[e]||(t=M.createElement(e),M.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),C[e]=n),C[e]}function p(e){return"children"in e?T.call(e.children):O.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function m(e,t,n){for(E in t)n&&(o(t[E])||s(t[E]))?(o(t[E])&&!o(e[E])&&(e[E]={}),s(t[E])&&!s(e[E])&&(e[E]=[]),m(e[E],t[E],n)):t[E]!==_&&(e[E]=t[E])}function v(e,t){return null==t?O(e):O(e).filter(t)}function g(e,n,i,r){return t(n)?n.call(e,i,r):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function w(e,t){var n=e.className,i=n&&n.baseVal!==_;return t===_?i?n.baseVal:n:(i?n.baseVal=t:e.className=t,void 0)}function b(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?O.parseJSON(e):e:t):e}catch(n){return e}}function x(e,t){t(e);for(var n in e.childNodes)x(e.childNodes[n],t)}var _,E,O,S,k,q,j=[],T=j.slice,P=j.filter,M=window.document,C={},A={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,R=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,z=/^(?:body|html)$/i,I=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],U=M.createElement("table"),$=M.createElement("tr"),F={tr:M.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:$,th:$,"*":M.createElement("div")},Z=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,W=/^#([\w-]*)$/,V=/^[\w-]+$/,Y={},J=Y.toString,X={},G=M.createElement("div");return X.matches=function(e,t){if(!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=G).appendChild(e),i=~X.qsa(r,t).indexOf(e),o&&G.removeChild(e),i},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},q=function(e){return P.call(e,function(t,n){return e.indexOf(t)==n})},X.fragment=function(e,t,n){var i,r,s;return R.test(e)&&(i=O(M.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(L,"<$1></$2>")),t===_&&(t=D.test(e)&&RegExp.$1),t in F||(t="*"),s=F[t],s.innerHTML=""+e,i=O.each(T.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=O(i),O.each(n,function(e,t){I.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},X.Z=function(e,t){return e=e||[],e.__proto__=O.fn,e.selector=t||"",e},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,n){if(e){if(t(e))return O(M).ready(e);if(X.isZ(e))return e;var i;if(s(e))i=u(e);else if(r(e))i=[e],e=null;else if(D.test(e))i=X.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==_)return O(n).find(e);i=X.qsa(M,e)}return X.Z(i,e)}return X.Z()},O=function(e,t){return X.init(e,t)},O.extend=function(e){var t,n=T.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){m(e,n,t)}),e},X.qsa=function(e,t){var n;return i(e)&&W.test(t)?(n=e.getElementById(RegExp.$1))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:T.call(H.test(t)?e.getElementsByClassName(RegExp.$1):V.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},O.contains=function(e,t){return e!==t&&e.contains(t)},O.type=e,O.isFunction=t,O.isWindow=n,O.isArray=s,O.isPlainObject=o,O.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},O.inArray=function(e,t,n){return j.indexOf.call(t,e,n)},O.camelCase=k,O.trim=function(e){return null==e?"":String.prototype.trim.call(e)},O.uuid=0,O.support={},O.expr={},O.map=function(e,t){var n,i,r,o=[];if(a(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return c(o)},O.each=function(e,t){var n,i;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},O.grep=function(e,t){return P.call(e,t)},window.JSON&&(O.parseJSON=JSON.parse),O.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),O.fn={forEach:j.forEach,reduce:j.reduce,push:j.push,sort:j.sort,indexOf:j.indexOf,concat:j.concat,map:function(e){return O(O.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return O(T.apply(this,arguments))},ready:function(e){return Z.test(M.readyState)?e(O):M.addEventListener("DOMContentLoaded",function(){e(O)},!1),this},get:function(e){return e===_?T.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return j.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):O(P.call(this,function(t){return X.matches(t,e)}))},add:function(e,t){return O(q(this.concat(O(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==_)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?T.call(e):O(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return O(n)},has:function(e){return this.filter(function(){return r(e)?O.contains(this,e):O(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:O(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:O(e)},find:function(e){var t,n=this;return t="object"==typeof e?O(e).filter(function(){var e=this;return j.some.call(n,function(t){return O.contains(t,e)})}):1==this.length?O(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)})},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=O(e));n&&!(r?r.indexOf(n)>=0:X.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return O(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=O.map(n,function(e){return(e=e.parentNode)&&!i(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return v(t,e)},parent:function(e){return v(q(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return P.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return O.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=O(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){O(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){O(this[0]).before(e=O(e));for(var t;(t=e.children()).length;)e=t.first();O(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=O(this),r=i.contents(),o=n?e.call(this,t):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){O(this).replaceWith(O(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=O(this);(e===_?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return O(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return O(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(t){var n=this.innerHTML;O(this).empty().append(g(this,e,t,n))})},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e===_?"":""+e})},attr:function(e,t){var n;return"string"==typeof e&&t===_?0==this.length||1!==this[0].nodeType?_:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:this.each(function(n){if(1===this.nodeType)if(r(e))for(E in e)y(this,E,e[E]);else y(this,e,g(this,t,n,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&y(this,e)})},prop:function(e,t){return t===_?this[0]&&this[0][e]:this.each(function(n){this[e]=g(this,t,n,this[e])})},data:function(e,t){var n=this.attr("data-"+l(e),t);return null!==n?b(n):_},val:function(e){return 0===arguments.length?this[0]&&(this[0].multiple?O(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(t){this.value=g(this,e,t,this.value)})},offset:function(e){if(e)return this.each(function(t){var n=O(this),i=g(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof t)return i.style[k(t)]||r.getPropertyValue(t);if(s(t)){var o={};return O.each(s(t)?t:[t],function(e,t){o[t]=i.style[k(t)]||r.getPropertyValue(t)}),o}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+h(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(E in t)t[E]||0===t[E]?a+=l(E)+":"+h(E,t[E])+";":this.each(function(){this.style.removeProperty(l(E))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(O(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return j.some.call(this,function(e){return this.test(w(e))},f(e))},addClass:function(e){return this.each(function(t){S=[];var n=w(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){O(this).hasClass(e)||S.push(e)},this),S.length&&w(this,n+(n?" ":"")+S.join(" "))})},removeClass:function(e){return this.each(function(t){return e===_?w(this,""):(S=w(this),g(this,e,t,S).split(/\s+/g).forEach(function(e){S=S.replace(f(e)," ")}),w(this,S.trim()),void 0)})},toggleClass:function(e,t){return this.each(function(n){var i=O(this),r=g(this,e,n,w(this));r.split(/\s+/g).forEach(function(e){(t===_?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})})},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===_?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=z.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(O(e).css("margin-top"))||0,n.left-=parseFloat(O(e).css("margin-left"))||0,i.top+=parseFloat(O(t[0]).css("border-top-width"))||0,i.left+=parseFloat(O(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!z.test(e.nodeName)&&"static"==O(e).css("position");)e=e.offsetParent;return e})}},O.fn.detach=O.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});O.fn[e]=function(r){var o,s=this[0];return r===_?n(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=O(this),s.css(e,g(this,r,t,s[e]()))})}}),B.forEach(function(t,n){var i=n%2;O.fn[t]=function(){var t,r,o=O.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:X.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null,o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return O(e).remove();x(r.insertBefore(e,t),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},O.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return O(e)[t](this),this}}),X.Z.prototype=O.fn,X.uniq=q,X.deserializeValue=b,O.zepto=X,O}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),define("zepto/zepto",function(){}),function(e){function t(t,i){var u=t[a],c=u&&r[u];if(void 0===i)return c||n(t);if(c){if(i in c)return c[i];var l=s(i);if(l in c)return c[l]}return o.call(e(t),i)}function n(t,n,o){var u=t[a]||(t[a]=++e.uuid),c=r[u]||(r[u]=i(t));return void 0!==n&&(c[s(n)]=o),c}function i(t){var n={};return e.each(t.attributes||u,function(t,i){0==i.name.indexOf("data-")&&(n[s(i.name.replace("data-",""))]=e.zepto.deserializeValue(i.value))}),n}var r={},o=e.fn.data,s=e.camelCase,a=e.expando="Zepto"+ +new Date,u=[];e.fn.data=function(i,r){return void 0===r?e.isPlainObject(i)?this.each(function(t,r){e.each(i,function(e,t){n(r,e,t)})}):0==this.length?void 0:t(this[0],i):this.each(function(){n(this,i,r)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[a],i=n&&r[n];i&&e.each(t,function(){delete i[s(this)]})})}}(Zepto),define("zepto/data",function(){}),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);
return(h[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(t,n,i){"string"!=e.type(t)?e.each(t,i):t.split(/\s/).forEach(function(e){i(e,n)})}function s(e,t){return e.del&&("focus"==e.e||"blur"==e.e)||!!t}function a(e){return m[e]||e}function u(n,r,u,c,l,f){var d=t(n),p=h[d]||(h[d]=[]);o(r,u,function(t,r){var o=i(t);o.fn=r,o.sel=c,o.e in m&&(r=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=l&&l(r,t);var u=o.del||r;o.proxy=function(e){var t=u.apply(n,[e].concat(e.data));return t===!1&&(e.preventDefault(),e.stopPropagation()),t},o.i=p.length,p.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,s(o,f))})}function c(e,i,r,u,c){var l=t(e);o(i||"",r,function(t,i){n(e,t,i,u).forEach(function(t){delete h[l][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,s(t,c))})})}function l(t){var n,i={originalEvent:t};for(n in t)y.test(n)||void 0===t[n]||(i[n]=t[n]);return e.each(w,function(e,n){i[e]=function(){return this[n]=v,t[e].apply(t,arguments)},i[n]=g}),i}function f(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){e.defaultPrevented=!0,t.call(e)}}}var h=(e.zepto.qsa,{}),d=1,p={},m={mouseenter:"mouseover",mouseleave:"mouseout"};p.click=p.mousedown=p.mouseup=p.mousemove="MouseEvents",e.event={add:u,remove:c},e.proxy=function(n,i){if(e.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=t(n),r}if("string"==typeof i)return e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){u(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){c(this,e,t)})},e.fn.one=function(e,t){return this.each(function(n,i){u(this,e,t,null,function(e,t){return function(){var n=e.apply(i,arguments);return c(i,t,e),n}})})};var v=function(){return!0},g=function(){return!1},y=/^([A-Z]|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,i){return this.each(function(r,o){u(o,n,i,t,function(n){return function(i){var r,s=e(i.target).closest(t,o).get(0);return s?(r=e.extend(l(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,n){return this.each(function(){c(this,t,n,e)})},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i){return!n||e.isFunction(n)?this.bind(t,n||i):this.delegate(n,t,i)},e.fn.off=function(t,n,i){return!n||e.isFunction(n)?this.unbind(t,n||i):this.undelegate(n,t,i)},e.fn.trigger=function(t,n){return("string"==typeof t||e.isPlainObject(t))&&(t=e.Event(t)),f(t),t.data=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,o;return this.each(function(s,a){r=l("string"==typeof t?e.Event(t):t),r.data=i,r.target=a,e.each(n(a,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var n=document.createEvent(p[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),n.isDefaultPrevented=function(){return n.defaultPrevented},n}}(Zepto),define("zepto/event",function(){}),function(e){function t(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){c=null,f.last&&(f.el.trigger("longTap"),f={})}function i(){c&&clearTimeout(c),c=null}function r(){s&&clearTimeout(s),a&&clearTimeout(a),u&&clearTimeout(u),c&&clearTimeout(c),s=a=u=c=null,f={}}function o(e){return e.pointerType==e.MSPOINTER_TYPE_TOUCH&&e.isPrimary}var s,a,u,c,l,f={},h=750;e(document).ready(function(){var d,p,m,v=0,g=0;"MSGesture"in window&&(l=new MSGesture,l.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(f.el.trigger("swipe"),f.el.trigger("swipe"+t))}).on("touchstart MSPointerDown",function(t){("MSPointerDown"!=t.type||o(t))&&(m="MSPointerDown"==t.type?t:t.touches[0],d=Date.now(),p=d-(f.last||d),f.el=e("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),f.x1=m.pageX,f.y1=m.pageY,p>0&&250>=p&&(f.isDoubleTap=!0),f.last=d,c=setTimeout(n,h),l&&"MSPointerDown"==t.type&&l.addPointer(t.pointerId))}).on("touchmove MSPointerMove",function(e){("MSPointerMove"!=e.type||o(e))&&(m="MSPointerMove"==e.type?e:e.touches[0],i(),f.x2=m.pageX,f.y2=m.pageY,v+=Math.abs(f.x1-f.x2),g+=Math.abs(f.y1-f.y2))}).on("touchend MSPointerUp",function(n){("MSPointerUp"!=n.type||o(n))&&(i(),f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?u=setTimeout(function(){f.el.trigger("swipe"),f.el.trigger("swipe"+t(f.x1,f.x2,f.y1,f.y2)),f={}},0):"last"in f&&(30>v&&30>g?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=r,f.el.trigger(t),f.isDoubleTap?(f.el.trigger("doubleTap"),f={}):s=setTimeout(function(){s=null,f.el.trigger("singleTap"),f={}},250)},0):f={}),v=g=0)}).on("touchcancel MSPointerCancel",r),e(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),define("zepto/touch",function(){}),function(e){function t(e){var t=this.os={},n=this.browser={},i=e.match(/WebKit\/([\d.]+)/),r=e.match(/(Android);?\s+([\d.]+)?/),o=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&e.match(/TouchPad/),l=e.match(/Kindle\/([\d.]+)/),f=e.match(/Silk\/([\d._]+)/),h=e.match(/(BlackBerry).*Version\/([\d.]+)/),d=e.match(/(BB10).*Version\/([\d.]+)/),p=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=e.match(/PlayBook/),v=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),g=e.match(/Firefox\/([\d.]+)/),y=e.match(/MSIE ([\d.]+)/),w=i&&e.match(/Mobile\//)&&!v,b=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v,y=e.match(/MSIE\s([\d.]+)/);(n.webkit=!!i)&&(n.version=i[1]),r&&(t.android=!0,t.version=r[2]),a&&!s&&(t.ios=t.iphone=!0,t.version=a[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),s&&(t.ios=t.ipod=!0,t.version=s[3]?s[3].replace(/_/g,"."):null),u&&(t.webos=!0,t.version=u[2]),c&&(t.touchpad=!0),h&&(t.blackberry=!0,t.version=h[2]),d&&(t.bb10=!0,t.version=d[2]),p&&(t.rimtabletos=!0,t.version=p[2]),m&&(n.playbook=!0),l&&(t.kindle=!0,t.version=l[1]),f&&(n.silk=!0,n.version=f[1]),!f&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0),v&&(n.chrome=!0,n.version=v[1]),g&&(n.firefox=!0,n.version=g[1]),y&&(n.ie=!0,n.version=y[1]),w&&(e.match(/Safari/)||t.ios)&&(n.safari=!0),b&&(n.webview=!0),y&&(n.ie=!0,n.version=y[1]),t.tablet=!!(o||m||r&&!e.match(/Mobile/)||g&&e.match(/Tablet/)||y&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(r||a||u||h||d||v&&e.match(/Android/)||v&&e.match(/CriOS\/([\d.]+)/)||g&&e.match(/Mobile/)||y&&e.match(/Touch/)))}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),define("zepto/detect",function(){}),function(e){e.fn.serializeArray=function(){var t,n=[];return e([].slice.call(this.get(0).elements)).each(function(){t=e(this);var i=t.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:t.attr("name"),value:t.val()})}),n},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),define("zepto/form",function(){}),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.defaultPrevented}function n(e,n,i,r){return e.global?t(n||y,i,r):void 0}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var i=t.context;return t.beforeSend.call(i,e,t)===!1||n(t,i,"ajaxBeforeSend",[e,t])===!1?!1:(n(t,i,"ajaxSend",[e,t]),void 0)}function s(e,t,i){var r=i.context,o="success";i.success.call(r,e,o,t),n(i,r,"ajaxSuccess",[t,i,e]),u(o,t,i)}function a(e,t,i,r){var o=r.context;r.error.call(o,i,t,e),n(r,o,"ajaxError",[i,r,e||t]),u(t,i,r)}function u(e,t,i){var o=i.context;i.complete.call(o,t,e),n(i,o,"ajaxComplete",[t,i]),r(i)}function c(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==E?"html":e==_?"json":b.test(e)?"script":x.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function h(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data))}function d(t,n,i,r){var o=!e.isFunction(n);return{url:t,data:o?n:void 0,success:o?e.isFunction(i)?i:void 0:n,dataType:o?r||i:i}}function p(t,n,i,r){var o,s=e.isArray(n);e.each(n,function(n,a){o=e.type(a),r&&(n=i?r:r+"["+(s?"":n)+"]"),!r&&s?t.add(a.name,a.value):"array"==o||!i&&"object"==o?p(t,a,i,n):t.add(n,a)})}var m,v,g=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,_="application/json",E="text/html",O=/^\s*$/;e.active=0,e.ajaxJSONP=function(t){if(!("type"in t))return e.ajax(t);var n,i=t.jsonpCallback,r=(e.isFunction(i)?i():i)||"jsonp"+ ++g,u=y.createElement("script"),l=function(){clearTimeout(n),e(u).remove(),delete window[r]},f=function(e){l(),e&&"timeout"!=e||(window[r]=c),a(null,e||"abort",h,t)},h={abort:f};return o(h,t)===!1?(f("abort"),!1):(window[r]=function(e){l(),s(e,h,t)},u.onerror=function(){f("error")},u.src=t.url.replace(/=\?/,"="+r),e("head").append(u),t.timeout>0&&(n=setTimeout(function(){f("timeout")},t.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:_,xml:"application/xml, text/xml",html:E,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n=e.extend({},t||{});for(m in e.ajaxSettings)void 0===n[m]&&(n[m]=e.ajaxSettings[m]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var r=n.dataType,u=/=\?/.test(n.url);if("jsonp"==r||u)return u||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),e.ajaxJSONP(n);var d,p=n.accepts[r],g={},y=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr();n.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),p&&(g.Accept=p,p.indexOf(",")>-1&&(p=p.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(p)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&(g["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=e.extend(g,n.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=c,clearTimeout(d);var t,i=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==y){r=r||l(w.getResponseHeader("content-type")),t=w.responseText;try{"script"==r?(1,eval)(t):"xml"==r?t=w.responseXML:"json"==r&&(t=O.test(t)?null:e.parseJSON(t))}catch(o){i=o}i?a(i,"parsererror",w,n):s(t,w,n)}else a(w.statusText||null,w.status?"error":"abort",w,n)}};var b="async"in n?n.async:!0;w.open(n.type,n.url,b);for(v in n.headers)w.setRequestHeader(v,n.headers[v]);return o(w,n)===!1?(w.abort(),!1):(n.timeout>0&&(d=setTimeout(function(){w.onreadystatechange=c,w.abort(),a(null,"timeout",w,n)},n.timeout)),w.send(n.data?n.data:null),w)},e.get=function(){return e.ajax(d.apply(null,arguments))},e.post=function(){var t=d.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=d.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,s=t.split(/\s/),a=d(t,n,i),u=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(t){o.html(r?e("<div>").html(t.replace(w,"")).find(r):t),u&&u.apply(o,arguments)},e.ajax(a),this};var S=encodeURIComponent;e.param=function(e,t){var n=[];return n.add=function(e,t){this.push(S(e)+"="+S(t))},p(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),define("zepto/ajax",function(){}),define("sayyes/modules/core",["require","zepto/zepto","zepto/data","zepto/event","zepto/touch","zepto/detect","zepto/form","zepto/ajax","req/require"],function(e){e("zepto/zepto"),e("zepto/data"),e("zepto/event"),e("zepto/touch"),e("zepto/detect"),e("zepto/form"),e("zepto/ajax"),e("req/require")}),define("lib/domReady",[],function(){function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=l;u&&t.length&&(l=[],e(t))}function n(){u||(u=!0,s&&clearInterval(s),t())}function i(e){return u?e(c):l.push(e),i}var r,o,s,a="undefined"!=typeof window&&window.document,u=!a,c=a?document:null,l=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(f){}o.doScroll&&r&&window.external&&(s=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}var h=!isNaN(parseFloat(navigator.appVersion.split("MSIE")[1])),d=h?/complete/:/interactive|complete/;document.readyState&&document.readyState.match(d)&&n()}return i.version="2.0.1",i.load=function(e,t,n,r){r.isBuild?n(null):i(n)},i}),define("mout/function/prop",[],function(){function e(e){return function(t){return t[e]}}return e}),define("mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),define("mout/object/forIn",[],function(){function e(){r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=!0;for(var e in{toString:null})i=!1}function t(t,o,s){var a,u=0;null==i&&e();for(a in t)if(n(o,t,a,s)===!1)break;if(i)for(;(a=r[u++])&&(t[a]===Object.prototype[a]||n(o,t,a,s)!==!1););}function n(e,t,n,i){return e.call(i,t[n],n,t)}var i,r;return t}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,i,r){t(n,function(t,o){return e(n,o)?i.call(r,n[o],o,n):void 0})}return n}),define("mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(i.call(e))[1]}var t,n=/^\[object (.*)\]$/,i=Object.prototype.toString;return e}),define("mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),define("mout/lang/isArray",["./isKind"],function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}),define("mout/object/deepMatches",["./forOwn","../lang/isArray"],function(e,t){function n(e,t){for(var n=-1,i=e.length;++n<i;)if(o(e[n],t))return!0;return!1}function i(e,t){for(var i=-1,r=t.length;++i<r;)if(!n(e,t[i]))return!1;return!0}function r(t,n){var i=!0;return e(n,function(e,n){return o(t[n],e)?void 0:i=!1}),i}function o(e,n){return e&&"object"==typeof e?t(e)&&t(n)?i(e,n):r(e,n):e===n}return o}),define("mout/function/makeIterator_",["./prop","../object/deepMatches"],function(e,t){function n(n,i){switch(typeof n){case"function":return"undefined"!=typeof i?function(e,t,r){return n.call(i,e,t,r)}:n;case"object":return null!=n?function(e){return t(e,n)}:n;case"string":case"number":return e(n);default:return n}}return n}),define("mout/array/map",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=[];if(null==t)return r;for(var o=-1,s=t.length;++o<s;)r[o]=n(t[o],o,t);return r}return t}),define("mout/array/indexOf",[],function(){function e(e,t,n){if(n=n||0,null==e)return-1;for(var i=e.length,r=0>n?i+n:n;i>r;){if(e[r]===t)return r;r++}return-1}return e}),define("mout/array/filter",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=[];if(null==t)return r;for(var o,s=-1,a=t.length;++s<a;)o=t[s],n(o,s,t)&&r.push(o);return r}return t}),define("mout/array/unique",["./indexOf","./filter"],function(e,t){function n(e){return t(e,i)}function i(t,n,i){return-1===e(i,t,n+1)}return n}),define("mout/array/some",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=!1;if(null==t)return r;for(var o=-1,s=t.length;++o<s;)if(n(t[o],o,t)){r=!0;break}return r}return t}),define("mout/array/contains",["./indexOf"],function(e){function t(t,n){return-1!==e(t,n)}return t}),define("mout/array/difference",["./unique","./filter","./some","./contains"],function(e,t,n,i){function r(r){var o=Array.prototype.slice.call(arguments,1),s=t(e(r),function(e){return!n(o,function(t){return i(t,e)})});return s}return r}),define("mout/object/keys",["./forOwn"],function(e){var t=Object.keys||function(t){var n=[];return e(t,function(e,t){n.push(t)}),n};return t}),define("mout/object/mixIn",["./forOwn"],function(e){function t(t){for(var i,r=0,o=arguments.length;++r<o;)i=arguments[r],null!=i&&e(i,n,t);return t}function n(e,t){this[t]=e}return t}),define("mout/lang/isString",["./isKind"],function(e){function t(t){return e(t,"String")}return t}),define("sayyes/util/model",["mout/array/map","mout/array/difference","mout/object/keys","mout/object/hasOwn","mout/object/mixIn","mout/lang/isString"],function(e,t,n,i,r,o){function s(e){return function(t){if(!o(t))throw"attempt to create a property that isn't a String";e[t]=null}}var a=function(){var o={};arguments.length&&(1===arguments.length&&"object"==typeof arguments[0]?o=arguments[0]:e(Array.prototype.slice.call(arguments),s(o))),this.implements=function(){if(!arguments.length)return!1;var e=n(o),i=null;return arguments.length&&(i=1===arguments.length&&"object"==typeof arguments[0]?n(arguments[0]):Array.prototype.slice.call(arguments)),e.length===i.length&&0===t(i,e).length},this.set=function(e,t){if(!this.has(e))throw"attempt to create new prop '"+e+"'";o[e]=t},this.has=function(e){return i(o,e)},this.get=function(e){return o[e]},this.keys=function(){return n(o)},this.compose=function(e){r(o,e)},this.clone=function(){return new a(o)},this.data=function(){return o}};return a}),define("sayyes/util/vo/view-vo",["sayyes/util/model"],function(e){var t=function(){return new e("name","template_name","data")};return t}),define("sayyes/util/vo/controller-vo",["sayyes/util/model"],function(e){var t=function(){return new e("id","attendant","client","start_with","views")};return t}),define("sayyes/util/vo/result-vo",["sayyes/util/model"],function(e){var t=function(){return new e("status","exception","message","value")};return t}),function(e){function t(e,t,n,i,r){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=r||0}function n(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,i,r){var o,s=this._indexOfListener(e,i);if(-1!==s){if(o=this._bindings[s],o.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new t(this,e,n,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return n(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return n(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){n(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){e=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(e[n]&&this._shouldPropagate&&e[n].execute(t)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=i;r.Signal=i,"function"==typeof define&&define.amd?define("signals/signals",[],function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:e.signals=r}(this),define("mout/array/every",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=!0;if(null==t)return r;for(var o=-1,s=t.length;++o<s;)if(!n(t[o],o,t)){r=!1;break}return r}return t}),define("sayyes/util/ajax",["sayyes/util/log","sayyes/util/vo/result-vo","signals/signals","mout/lang/kindOf","mout/array/every","mout/object/hasOwn"],function(e,t,n,i,r,o){function s(e){var n,s,a,u;if("json"===this.options.dataType)if("Object"===i(e)){if(s=r(this._xpect,function(t){switch(a=t[0],u=t[1],i(u)){case"Function":return o(e,a)&&u.call(null,e[a]);default:return o(e,a)&&e[a]===u}}),s===!1)return n=new t,n.set("status","error"),n.set("exception",this.NOT_MATCH),n.set("message","'"+a+"' doesn't match expected values"),n.set("value",e),this.result=n.data(),this.on.error.dispatch(this.result),void 0;this.result=e,this.on.success.dispatch(this.result)}else n=new t,n.set("status","error"),n.set("exception",this.MALFORMED_JSON),n.set("message","result isn't a valid JSON"),this.result=n.data(),this.on.error.dispatch(this.result);else this.result=e,this.on.success.dispatch(this.result)}function a(e){if(this.status=this.status_idle,this._xpect)return s.bind(this)(e),void 0;if(null===e){var n=new t;return n.set("status","error"),n.set("exception",this.REQUEST_FAILED),n.set("message","XHR couldn't complete the resquest"),this.result=n.data(),this.on.error.dispatch(this.result),void 0}this.result=e,this.on.success.dispatch(this.result)}function u(e){this.status=this.status_idle,this.result=new t,this.result.set("exception",e.status),this.result.set("message",e.responseText),this.on.error.dispatch(this.result.data())}function c(e){e.status_idle=0,e.status_running=1,e.status=e.status_idle,e.on={success:new n,error:new n},e.options={type:"GET",url:null,data:null,processData:!1,dataType:"json",timeout:2e3,context:e,cache:!0,success:a.bind(e),error:u.bind(e)},e.MALFORMED_JSON=-100,e.NOT_MATCH=-101,e.REQUEST_FAILED=-102,e.ALLOWED_TYPES=["json","jsonp","xml","html","text"]}var l=function(e){c(this),this.options.type=e||this.options.type};return l.prototype={method:function(e){return this.options.type=e||this.options.type,this},type:function(e,t){if(-1===this.ALLOWED_TYPES.indexOf(e))throw"argument must be:'"+this.ALLOWED_TYPES.join("','")+"'";return"jsonp"===e&&t&&(this.options.jsonpCallback=t),this.options.dataType=e||this.options.dataType,this},allow_cache:function(e){return this.options.cache=Boolean(e),this},success:function(e){if(!e||"function"!=typeof e)throw"argument must be a function";return this.on.success.add(e),this},error:function(e){if(!e||"function"!=typeof e)throw"argument must be a function";return this.on.error.add(e),this},dispose:function(){this.on.error.removeAll(),this.on.success.removeAll(),this.mock_data=null,c(this)},expect:function(e,t){return this._xpect||(this._xpect=[]),this._xpect.push([e,t]),this},mock:function(e){return this.mock_data=e,this},request:function(t,n){return this.status!==this.status_idle?(e.error("ajax.request :: alredy running..."),null):t?(this.status=this.status_running,this.mock_data?(this.options.success(this.mock_data),this.mock_data=void 0):(this.options.url=t,this.options.data=n,e.info("ajax.request => "+t+" method:"+this.options.type," data:",this.options.data),$.ajax(this.options)),this):(e.error("ajax.request can't be done without url."),null)}},l}),define("mout/array/forEach",[],function(){function e(e,t,n){if(null!=e)for(var i=-1,r=e.length;++i<r&&t.call(n,e[i],i,e)!==!1;);}return e}),function(e,t){"object"==typeof exports&&exports?module.exports=t:"function"==typeof define&&define.amd?define("mustache/mustache",t):e.Mustache=t}(this,function(){function e(e,t){return RegExp.prototype.test.call(e,t)}function t(t){return!e(p,t)}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e){return String(e).replace(/[&<>"'\/]/g,function(e){return w[e]})}function r(e){this.string=e,this.tail=e,this.pos=0}function o(e,t){this.view=e,this.parent=t,this.clearCache()}function s(){this.clearCache()}function a(e){function t(e,t,i){if(!n[e]){var r=a(t);n[e]=function(e,t){return r(e,t,i)}}return n[e]}var n={};return function(n,i,r){for(var o,s,a="",u=0,c=e.length;c>u;++u)switch(o=e[u],o[0]){case"#":s=r.slice(o[3],o[5]),a+=n._section(o[1],i,s,t(u,o[4],r));break;case"^":a+=n._inverted(o[1],i,t(u,o[4],r));break;case">":a+=n._partial(o[1],i);break;case"&":a+=n._name(o[1],i);break;case"name":a+=n._escaped(o[1],i);break;case"text":a+=o[1]}return a}}function u(e){for(var t,n=[],i=n,r=[],o=0,s=e.length;s>o;++o)switch(t=e[o],t[0]){case"#":case"^":r.push(t),i.push(t),i=t[4]=[];break;case"/":var a=r.pop();a[5]=t[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(t)}return n}function c(e){for(var t,n,i=[],r=0,o=e.length;o>r;++r)t=e[r],"text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(n=t,i.push(t));return i}function l(e){return[new RegExp(n(e[0])+"\\s*"),new RegExp("\\s*"+n(e[1]))]}var f={};f.name="mustache.js",f.version="0.7.2",f.tags=["{{","}}"],f.Scanner=r,f.Context=o,f.Writer=s;var h=/\s*/,d=/\s+/,p=/\S/,m=/\s*=/,v=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/,y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};f.escape=i,r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},r.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},o.make=function(e){return e instanceof o?e:new o(e)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(e){return new o(e,this)},o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."===e)t=this.view;else for(var n=this;n;){if(e.indexOf(".")>0){var i=e.split("."),r=0;for(t=n.view;t&&r<i.length;)t=t[i[r++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(e,t){var n=this._cache[e];if(!n){var i=f.parse(e,t);n=this._cache[e]=this.compileTokens(i,e)}return n},s.prototype.compilePartial=function(e,t,n){var i=this.compile(t,n);return this._partialCache[e]=i,i},s.prototype.compileTokens=function(e,t){var n=a(e),i=this;return function(e,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var s in r)i.compilePartial(s,r[s]);return n(i,o.make(e),t)}},s.prototype.render=function(e,t,n){return this.compile(e)(t,n)},s.prototype._section=function(e,t,n,i){var r=t.lookup(e);switch(typeof r){case"object":if(y(r)){for(var o="",s=0,a=r.length;a>s;++s)o+=i(this,t.push(r[s]));return o}return r?i(this,t.push(r)):"";case"function":var u=this,c=function(e){return u.render(e,t)},l=r.call(t.view,n,c);return null!=l?l:"";default:if(r)return i(this,t)}return""},s.prototype._inverted=function(e,t,n){var i=t.lookup(e);return!i||y(i)&&0===i.length?n(this,t):""},s.prototype._partial=function(e,t){e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e));var n=this._partialCache[e];return n?n(t):""},s.prototype._name=function(e,t){var n=t.lookup(e);return"function"==typeof n&&(n=n.call(t.view)),null==n?"":String(n)},s.prototype._escaped=function(e,t){return f.escape(this._name(e,t))},f.parse=function(e,i){function o(){if(O&&!S)for(;E.length;)_.splice(E.pop(),1);else E=[];O=!1,S=!1}if(e=e||"",i=i||f.tags,"string"==typeof i&&(i=i.split(d)),2!==i.length)throw new Error("Invalid tags: "+i.join(", "));for(var s,a,p,y,w=l(i),b=new r(e),x=[],_=[],E=[],O=!1,S=!1;!b.eos();){if(s=b.pos,p=b.scanUntil(w[0]))for(var k=0,q=p.length;q>k;++k)y=p.charAt(k),t(y)?E.push(_.length):S=!0,_.push(["text",y,s,s+1]),s+=1,"\n"===y&&o();if(s=b.pos,!b.scan(w[0]))break;if(O=!0,a=b.scan(g)||"name",b.scan(h),"="===a)p=b.scanUntil(m),b.scan(m),b.scanUntil(w[1]);else if("{"===a){var j=new RegExp("\\s*"+n("}"+i[1]));p=b.scanUntil(j),b.scan(v),b.scanUntil(w[1]),a="&"}else p=b.scanUntil(w[1]);if(!b.scan(w[1]))throw new Error("Unclosed tag at "+b.pos);if("/"===a){if(0===x.length)throw new Error('Unopened section "'+p+'" at '+s);var T=x.pop();if(T[1]!==p)throw new Error('Unclosed section "'+T[1]+'" at '+s)}var P=[a,p,s,b.pos];if(_.push(P),"#"===a||"^"===a)x.push(P);else if("name"===a||"{"===a||"&"===a)S=!0;else if("="===a){if(i=p.split(d),2!==i.length)throw new Error("Invalid tags at "+s+": "+i.join(", "));w=l(i)}}var T=x.pop();if(T)throw new Error('Unclosed section "'+T[1]+'" at '+b.pos);return u(c(_))};var b=new s;return f.clearCache=function(){return b.clearCache()},f.compile=function(e,t){return b.compile(e,t)},f.compilePartial=function(e,t,n){return b.compilePartial(e,t,n)},f.compileTokens=function(e,t){return b.compileTokens(e,t)},f.render=function(e,t,n){return b.render(e,t,n)},f.to_html=function(e,t,n,i){var r=f.render(e,t,n);return"function"!=typeof i?r:(i(r),void 0)},f}()),define("sayyes/plugins/plugin-nav",["sayyes/util/log"],function(e){function t(t){var n=t.target.href.match(o);n&&n[1]?this.view.on.nav.dispatch(n[1]):(t.preventDefault(),e.info("plugin-nav couldn't find nav value on:",t.target.href))
}var n,i,r,o;return r="click",o=/([\w-]+)$/,n=function(e,t){this.node=$(e),this.view=t,this.enable_ux()},n.prototype={enable_ux:function(){this.node.on(r,t.bind(this))},dispose:function(){this.node.off(r,t.bind(this)),this.node=null,this.view=null}},function(t){function r(e,r){r&&(i=new n(r,t),t.plugin_closures.push(i))}return!t||t&&!t.html?(e.error("plugin-nav got no view!"),!1):(t.html.find("[data-role='nav']").each(r),!0)}}),define("sayyes/plugins/plugin-form",["mout/object/mixIn","sayyes/util/log","signals/signals","sayyes/util/ajax"],function(e,t,n,i){function r(e){this.form.removeClass("loading"),this.view.form_result=e.value;var t=!!e.value.status&&"error"!==e.value.status;fn=t?this.on_success:this.on_error,this.view.on.nav.dispatch(fn)}function o(e){return e.preventDefault(),this.service&&this.service.status!==this.service.status_idle?(t.warn("plugin-form._submit_handle => service running..."),void 0):(this.service||(this.service=new i,this.service.success(r.bind(this)).error(r.bind(this)).expect("status",function(e){return"error"!==e})),this.form.addClass("loading"),this.service.method(this.form.attr("method")).request(this.form.attr("action"),this.form.serialize()),void 0)}var s,a,u,c;return c=/^[\w]+$/,u="submit",s=function(t){e(this,t),this.form=$(this.node),this.enable_ux(),this.service=null},s.prototype={enable_ux:function(){this.form.on(u,o.bind(this))},dispose:function(){this.form.off(u,o.bind(this)),this.form=null}},function(e){function n(n,i){if(i){var r=i.getAttribute("data-on-success"),o=i.getAttribute("data-on-error");r&&o?(a=new s({node:i,view:e,on_success:r,on_error:o}),e.plugin_closures.push(a)):t.error("plugin-form :: failed to init form, missing base attribute")}}return!e||e&&!e.html?(t.error("plugin-form got no view!"),!1):(e.html.find("form").each(n),!0)}}),define("sayyes/modules/view",["mout/object/mixIn","mout/array/forEach","mout/array/every","mustache/mustache","signals/signals","sayyes/util/log","sayyes/plugins/plugin-nav","sayyes/plugins/plugin-form"],function(e,t,n,i,r,o,s,a){function u(t,n){t.__id=++l,t.name=null,t.html=null,t.template_name=null,t.template_raw=null,t.template_fn=null,t.plugin_closures=null,t.form_result={},e(t,n),t.on={render:{failed:new r,passed:new r},open:{failed:new r,passed:new r},close:{failed:new r,passed:new r},nav:new r},t.signals_list=[t.on.render.failed,t.on.render.passed,t.on.open.failed,t.on.open.passed,t.on.close.failed,t.on.close.passed,t.on.nav];var o=document.getElementById(t.template_name);if(!o)throw"template:'"+t.template_name+"' not found!";if(t.template_raw=o.text.trim(),!t.template_raw||!t.template_raw.length)throw"template:'"+t.template_name+"' is empty!";t.template_fn=i.compile(t.template_raw)}var c,l,f,h,d;return f=[s,a],h="open",d="close",l=0,c=function(e){u(this,e)},c.prototype={render:function(e){try{this.html=$(this.template_fn(e))}catch(t){return this.on.render.failed.dispatch(this,t),void 0}this.on.render.passed.dispatch(this)},enable_ux:function(){this.plugin_closures=[],this.html&&n(f,function(e){return function(t){return t(e)}}(this))},disable_ux:function(){function e(e){e.dispose(),e=null}this.html&&t(this.plugin_closures,e),this.plugin_closures=null},open:function(){return this.html?(this.html.addClass(h),this.on.open.passed.dispatch(this),this.form_result={},void 0):(this.on.open.failed.dispatch(this),void 0)},close:function(){return this.html?(this.html.removeClass(h).addClass(d),this.on.close.passed.dispatch(this),void 0):(this.on.close.failed.dispatch(this),void 0)},show_alert:function(e){console.log("show alert",e)},close_alert:function(){console.log(value)},dispose:function(){this.html.removeClass(d),this.html=null;var e=n(this.signals_list,function(e){return e&&e.removeAll?(e.removeAll(),!0):!1});e||o.warn("view.dispose => problems dispose all signals.")}},function(e){if(!e)throw"view got undefined config";return new c(e)}}),define("sayyes/modules/tracker",["sayyes/util/ajax","sayyes/util/log","mout/object/forOwn","mout/array/forEach","mustache/mustache","signals/signals"],function(e,t,n,i,r,o){function s(n){return n.form=document.getElementsByClassName("session-tracker"),n.form?(n.on={success:new o,error:new o},n.form=$(n.form[0]),n.service=new e,void 0):(t.error("AppTracker failed to find 'session-tracker' form"),void 0)}function a(e,n,i){if(!i||!e||!n)return t.error("tracker._updateHidden => got invalid arguments to udpate."),void 0;var r=i.find("input[name="+e+"]");return r.length?(r.attr("value",n),void 0):(i.append(f({name:e,value:n})),void 0)}function u(e){function t(e,t){a(t,e,o)}function r(e){n(e,t)}var o=this.form;e.value.hiddens&&i(e.value.hiddens,r),this.on.success.dispatch(e)}function c(e){t.error("tracker._notify_error => failed to request next view",e),this.on.error.dispatch(e.value)}var l,f;return f=r.compile("<input type='hidden' name='{{name}}' value='{{value}}' />"),l=function(){s(this)},l.prototype={request_view:function(e){if(!this.form)return t.error("impossible to request view, no form found"),void 0;a("viewName",e,this.form);var n=this.form.serialize();return!n||n&&!n.length?(t.error("AppTracker._on_nav failed to track. for has no data"),void 0):(this.service.on.success.removeAll(),this.service.on.error.removeAll(),this.service.on.success.addOnce(u.bind(this)),this.service.on.error.addOnce(c.bind(this)),this.service.expect("status",function(e){return"error"!==e}).expect("value",function(e){return!!e}).method(this.form.attr("method")).request(this.form.attr("action"),n),void 0)}},l}),define("mout/array/findIndex",["../function/makeIterator_"],function(e){function t(t,n,i){if(n=e(n,i),null==t)return-1;for(var r=-1,o=t.length;++r<o;)if(n(t[r],r,t))return r;return-1}return t}),define("mout/array/find",["./findIndex"],function(e){function t(t,n,i){var r=e(t,n,i);return r>=0?t[r]:void 0}return t}),define("sayyes/modules/controller",["sayyes/util/log","sayyes/util/vo/view-vo","sayyes/util/vo/controller-vo","sayyes/util/ajax","sayyes/modules/view","sayyes/modules/tracker","mout/object/mixIn","mout/array/find","signals/signals"],function(e,t,n,i,r,o,s,a,u){function c(e,t){e.queued_view=null,e.current_view=null,e.previous_view=null,e.safe_nav=!0,e.data={},e.scope=$(t),e.pooling={},e.tracker=new o,e.tracker.on.error.addOnce(p.bind()),e.on={warn:new u,info:new u,error:new u,nav:new u}}function l(e,t){return a(t,{name:e})}function f(t){e.error("fatal error, show alert box"),w(this,"controller fail =>",b)(t)}function h(){this.current_view&&(this.current_view.html.remove(),this.current_view.dispose(),w(this,"controller view '"+this.current_view.name+"' disposed.")(),this.previous_view=this.current_view),this.current_view=null,this.open()}function d(){this.current_view=this.queued_view,this.queued_view=null,this.current_view.enable_ux(),this.current_view.on.nav.add(m.bind(this)),w(this,"controller => view '"+this.current_view.name+"' opened.")(),this.on.nav.dispatch(this.current_view)}function p(){this.scope.removeClass("loading"),alert("Deu errado! fim da linha. ainda preciso fazer o fallback para mostrar o erro na tela")}function m(e){function t(){this.scope.removeClass("loading"),this.create_view(n)}if(this.current_view&&this.current_view.name===e)return w(this,"controller => view '"+e+"' already opened opened.",x)(),void 0;var n=l(e,this.data.views);n&&this.safe_nav?(this.scope.addClass("loading"),this.tracker.on.success.addOnce(t.bind(this)),this.tracker.request_view(n.name)):n&&this.safe_nav?this.create_view(n):w(this,"controller => view '"+e+"' not found.",x)()}var v,g,y,w,b,x;return b="error",x="warn",g=new t,y=new n,w=function(t,n,i){return function(r){switch(i){case x:e.warn(n,r),t.on.warn.dispatch(n,r);break;case b:e.error(n,r),t.on.error.dispatch(n,r);break;default:e.info(n,r),t.on.info.dispatch(n,r)}}},v=function(e){c(this,e)},v.prototype={load_config:function(e,t,n){var r=new i;r.method("get").expect("status","output").expect("value",y.implements).error(n).error(w(this,"controller got invalid config!",b)).success(t).success(function(e){r.dispose(),this.create(e.value)}.bind(this)).request(e)},create:function(e){if(!y.implements(e))return w(this,"controller got invalid data to initialize. check for missing properties!",b)(e),void 0;this.data=e,this.data.start_with=this.data.start_with||0;var t;switch(this.data.start_with.constructor.name){case"Number":t=this.data.views[this.data.start_with];break;case"String":t=l(this.data.start_with,this.data.views)}return t?(this.create_view(t),void 0):(w(this,"controller => failed to find view: "+this.data.start_with,b)(),void 0)},create_view:function(e){if(!g.implements(e))return w(this,"controller => malformed view template",b)(e),void 0;if(this.queued_view=this.pooling[e.name],!this.queued_view)try{this.queued_view=r(e)}catch(t){return w(this,"controller => view '"+e.name+"' failed to create.",b)(t),void 0}w(this,"controller => view '"+this.queued_view.name+"' created.")();var n=this.current_view?this.current_view.form_result:{};this.render_view(this.queued_view,s({},e.data,n))},render_view:function(e,t){e.on.render.failed.addOnce(w(this,"controller => view '"+e.name+"' failed to render.",b)),e.on.render.passed.addOnce(this.close,this),e.render(t)},open:function(){return this.queued_view?this.queued_view.html&&this.queued_view.html.length?(this.scope.append(this.queued_view.html),this.queued_view.on.open.passed.addOnce(d,this),this.queued_view.on.open.failed.addOnce(f,this),this.queued_view.open(),void 0):(w(this,"controller => queued view has no html.",b)(),void 0):(w(this,"controller => no queued view to open!",b)(),void 0)},close:function(){return this.current_view?(this.current_view.on.close.passed.addOnce(h,this),this.current_view.on.close.failed.addOnce(f,this),this.current_view.disable_ux(),this.current_view.close(),void 0):(w(this,"controller => no current view to close, open queued.",x)(),this.open(),void 0)}},function(e){if(e)return new v(e);throw"undefined scope"}}),require(["sayyes/util/log","sayyes/modules/core","lib/domReady","sayyes/modules/controller"],function(e,t,n,i){function r(t){try{u=i(document.getElementById("sayyes-assistant"))}catch(n){return e.error("error to create controller",n),void 0}u.load_config(t,o,s)}function o(){$(c).remove()}function s(e){alert("Failed to load service.\nCheck you console to see the result"),console.dir(e)}function a(){return(c=document.getElementById("load-config"))?($(c).on("submit",function(e){e.preventDefault(),e.stopPropagation(),r($(this).find("#service").val())}),void 0):(e.error("error to find form to load config"),void 0)}var u,c;n(a)}),define("sayyes/main/test-controller-service",function(){});