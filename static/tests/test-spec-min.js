/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.8 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

//     Zepto.js
//     (c) 2010-2013 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.

/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */

function __init_tests__(){var e=jasmine.getEnv(),t=new jasmine.HtmlReporter;e.updateInterval=1e3,e.addReporter(t),e.specFilter=function(e){return t.specFilter(e)},e.execute()}var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,u,c,l,f,h,p,d,m=n&&n.split("/"),g=m,v=j.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(j.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),o=getOwn(j.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(m||y)){for(a=e.split("/"),u=a.length;u>0;u-=1){if(l=a.slice(0,u).join("/"),m)for(c=m.length;c>0;c-=1)if(s=getOwn(v,m.slice(0,c).join("/")),s&&(s=getOwn(s,l))){f=s,h=u;break}if(f)break;!p&&y&&getOwn(y,l)&&(p=getOwn(y,l),d=u)}!f&&p&&(f=p,h=d),f&&(a.splice(0,h,f),e=a.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===x.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(j.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),x.require.undef(e),x.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,u,c,l=null,f=t?t.name:null,h=e,p=!0,d="";return e||(p=!1,e="_@r"+(P+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,r),a=getOwn(k,l)),e&&(l?d=a&&a.normalize?a.normalize(e,function(e){return n(e,f,r)}):n(e,f,r):(d=n(e,f,r),c=o(d),l=c[0],d=c[1],i=!0,s=x.nameToUrl(d))),u=!l||a||i?"":"_unnormalized"+(M+=1),{prefix:l,name:d,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(l?l+"!"+d:d)+u}}function a(e){var t=e.id,n=getOwn(_,t);return n||(n=_[t]=new x.Module(e)),n}function u(e,t,n){var i=e.id,r=getOwn(_,i);!hasProp(k,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(k[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(_,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(S,[S.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete _[e],delete O[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(_,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,k[o]),e.check()):h(s,t,n))}),n[i]=!0)}function p(){var e,t,n,o,s=1e3*j.waitSeconds,a=s&&x.startTime+s<(new Date).getTime(),u=[],l=[],f=!1,d=!0;if(!y){if(y=!0,eachProp(O,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||l.push(n),!n.error))if(!n.inited&&a)r(t)?(o=!0,f=!0):(u.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(f=!0,!e.prefix))return d=!1}),a&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=x.contextName,c(n);d&&each(l,function(e){h(e,{},{})}),a&&!o||!f||!isBrowser&&!isWebWorker||E||(E=setTimeout(function(){E=0,p()},50)),y=!1}}function d(e){hasProp(k,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,x.onScriptLoad,"load","onreadystatechange"),m(t,x.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(l();S.length;){if(e=S.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));d(e)}}var y,b,x,w,E,j={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},_={},O={},q={},S=[],k={},T={},P=1,M=1;return w={require:function(e){return e.require?e.require:e.require=x.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=k[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(j.pkgs,e.map.id);return t=n?getOwn(j.config,e.map.id+"/"+n.main):getOwn(j.config,e.map.id),t||{}},exports:k[e.map.id]}}},b=function(e){this.events=getOwn(q,e.id)||{},this.map=e,this.shim=getOwn(j.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,x.startTime=(new Date).getTime();var e=this.map;return this.shim?(x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,x.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=x.execCb(n,o,i,r)}catch(s){e=s}else r=x.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(k[n]=r,req.onResourceLoad&&req.onResourceLoad(x,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,l,h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,d=x.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(e){return n(e,p,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(_,o.id),l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()),void 0):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(_,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,u=s(o),l=useInteractive;i&&(n=i),l&&(useInteractive=!1),a(u),hasProp(j.config,t)&&(j.config[o]=j.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),x.completeLoad(o),d([o],r)}),i.load(e.name,d,r,j),void 0)})),x.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){O[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(w,e.id))return this.depExports[t]=r(this),void 0;this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,i=_[n],hasProp(w,n)||!i||i.enabled||x.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(_,e.id);t&&!t.enabled&&x.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},x={config:j,contextName:e,registry:_,defined:k,urlFetched:T,defQueue:S,Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=j.pkgs,n=j.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(j.map||(j.map={}),mixin(j[t],e,!0,!0)):mixin(j[t],e,!0):j[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=x.makeShimExports(e)),n[t]=e}),j.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),j.pkgs=t),eachProp(_,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&x.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,u){var l,f,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(w,n)?w[n](_[t.id]):req.get?req.get(x,n,t,r):(f=s(n,t,!1,!0),l=f.id,hasProp(k,l)?k[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),x.nextTick(function(){v(),h=a(s(null,t)),h.skipMap=i.skipMap,h.init(n,o,u,{enabled:!0}),p()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),x.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(k,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(k,e)||hasProp(_,e)}}),t||(r.undef=function(e){l();var n=s(e,t,!0),i=getOwn(_,e);delete k[e],delete T[n.url],delete q[e],i&&(i.events.defined&&(q[e]=i.events),f(e))}),r},enable:function(e){var t=getOwn(_,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(j.shim,e)||{},s=o.exports;for(l();S.length;){if(n=S.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);d(n)}if(i=getOwn(_,e),!t&&!hasProp(k,e)&&i&&!i.inited){if(!(!j.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));d([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,o,s,a,u,c,l,f;if(req.jsExtRegExp.test(e))l=e+(t||"");else{for(i=j.paths,r=j.pkgs,a=e.split("/"),u=a.length;u>0;u-=1){if(c=a.slice(0,u).join("/"),o=getOwn(r,c),f=getOwn(i,c)){isArray(f)&&(f=f[0]),a.splice(0,u,f);break}if(o){s=e===o.name?o.location+"/"+o.main:o.location,a.splice(0,u,s);break}}l=a.join("/"),l+=t||(/\?/.test(l)||n?"":".js"),l=("/"===l.charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":j.baseUrl)+l}return j.urlArgs?l+((-1===l.indexOf("?")?"?":"&")+j.urlArgs):l},load:function(e,t){req.load(x,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);x.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},x.require=x.makeRequire(),x}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("req/require",function(){}),define("lib/domReady",[],function(){function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=l;u&&t.length&&(l=[],e(t))}function n(){u||(u=!0,s&&clearInterval(s),t())}function i(e){return u?e(c):l.push(e),i}var r,o,s,a="undefined"!=typeof window&&window.document,u=!a,c=a?document:null,l=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(f){}o.doScroll&&r&&window.external&&(s=setInterval(function(){try{o.doScroll(),n()}catch(e){}},30))}var h=!isNaN(parseFloat(navigator.appVersion.split("MSIE")[1])),p=h?/complete/:/interactive|complete/;document.readyState&&document.readyState.match(p)&&n()}return i.version="2.0.1",i.load=function(e,t,n,r){r.isBuild?n(null):i(n)},i});var Zepto=function(){function e(e){return null==e?String(e):V[Y.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return e instanceof Array}function a(e){return"number"==typeof e.length}function u(e){return P.call(e,function(e){return null!=e})}function c(e){return e.length>0?_.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(e){return e in A?A[e]:A[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function h(e,t){return"number"!=typeof t||C[l(e)]?t:t+"px"}function p(e){var t,n;return N[e]||(t=M.createElement(e),M.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]}function d(e){return"children"in e?T.call(e.children):_.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function m(e,t,n){for(j in t)n&&(o(t[j])||s(t[j]))?(o(t[j])&&!o(e[j])&&(e[j]={}),s(t[j])&&!s(e[j])&&(e[j]=[]),m(e[j],t[j],n)):t[j]!==E&&(e[j]=t[j])}function g(e,t){return null==t?_(e):_(e).filter(t)}function v(e,n,i,r){return t(n)?n.call(e,i,r):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className,i=n&&n.baseVal!==E;return t===E?i?n.baseVal:n:(i?n.baseVal=t:e.className=t,void 0)}function x(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?_.parseJSON(e):e:t):e}catch(n){return e}}function w(e,t){t(e);for(var n in e.childNodes)w(e.childNodes[n],t)}var E,j,_,O,q,S,k=[],T=k.slice,P=k.filter,M=window.document,N={},A={},C={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,D=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,z=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],I=M.createElement("table"),U=M.createElement("tr"),$={tr:M.createElement("tbody"),tbody:I,thead:I,tfoot:I,td:U,th:U,"*":M.createElement("div")},Z=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,J=/^#([\w-]*)$/,W=/^[\w-]+$/,V={},Y=V.toString,X={},G=M.createElement("div");return X.matches=function(e,t){if(!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=G).appendChild(e),i=~X.qsa(r,t).indexOf(e),o&&G.removeChild(e),i},q=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},S=function(e){return P.call(e,function(t,n){return e.indexOf(t)==n})},X.fragment=function(e,t,n){var i,r,s;return D.test(e)&&(i=_(M.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(L,"<$1></$2>")),t===E&&(t=B.test(e)&&RegExp.$1),t in $||(t="*"),s=$[t],s.innerHTML=""+e,i=_.each(T.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=_(i),_.each(n,function(e,t){z.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},X.Z=function(e,t){return e=e||[],e.__proto__=_.fn,e.selector=t||"",e},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,n){if(e){if(t(e))return _(M).ready(e);if(X.isZ(e))return e;var i;if(s(e))i=u(e);else if(r(e))i=[e],e=null;else if(B.test(e))i=X.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==E)return _(n).find(e);i=X.qsa(M,e)}return X.Z(i,e)}return X.Z()},_=function(e,t){return X.init(e,t)},_.extend=function(e){var t,n=T.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){m(e,n,t)}),e},X.qsa=function(e,t){var n;return i(e)&&J.test(t)?(n=e.getElementById(RegExp.$1))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:T.call(H.test(t)?e.getElementsByClassName(RegExp.$1):W.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},_.contains=function(e,t){return e!==t&&e.contains(t)},_.type=e,_.isFunction=t,_.isWindow=n,_.isArray=s,_.isPlainObject=o,_.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},_.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},_.camelCase=q,_.trim=function(e){return null==e?"":String.prototype.trim.call(e)},_.uuid=0,_.support={},_.expr={},_.map=function(e,t){var n,i,r,o=[];if(a(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&o.push(n);else for(r in e)n=t(e[r],r),null!=n&&o.push(n);return c(o)},_.each=function(e,t){var n,i;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},_.grep=function(e,t){return P.call(e,t)},window.JSON&&(_.parseJSON=JSON.parse),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()}),_.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return _(_.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return _(T.apply(this,arguments))},ready:function(e){return Z.test(M.readyState)?e(_):M.addEventListener("DOMContentLoaded",function(){e(_)},!1),this},get:function(e){return e===E?T.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):_(P.call(this,function(t){return X.matches(t,e)}))},add:function(e,t){return _(S(this.concat(_(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?T.call(e):_(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return _(n)},has:function(e){return this.filter(function(){return r(e)?_.contains(this,e):_(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:_(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:_(e)},find:function(e){var t,n=this;return t="object"==typeof e?_(e).filter(function(){var e=this;return k.some.call(n,function(t){return _.contains(t,e)})}):1==this.length?_(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)})},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=_(e));n&&!(r?r.indexOf(n)>=0:X.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return _(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=_.map(n,function(e){return(e=e.parentNode)&&!i(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return g(t,e)},parent:function(e){return g(S(this.pluck("parentNode")),e)},children:function(e){return g(this.map(function(){return d(this)}),e)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(e){return g(this.map(function(e,t){return P.call(d(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return _.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=_(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){_(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){_(this[0]).before(e=_(e));for(var t;(t=e.children()).length;)e=t.first();_(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=_(this),r=i.contents(),o=n?e.call(this,t):e;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){_(this).replaceWith(_(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=_(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return _(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return _(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(t){var n=this.innerHTML;_(this).empty().append(v(this,e,t,n))})},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e===E?"":""+e})},attr:function(e,t){var n;return"string"==typeof e&&t===E?0==this.length||1!==this[0].nodeType?E:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:this.each(function(n){if(1===this.nodeType)if(r(e))for(j in e)y(this,j,e[j]);else y(this,e,v(this,t,n,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&y(this,e)})},prop:function(e,t){return t===E?this[0]&&this[0][e]:this.each(function(n){this[e]=v(this,t,n,this[e])})},data:function(e,t){var n=this.attr("data-"+l(e),t);return null!==n?x(n):E},val:function(e){return 0===arguments.length?this[0]&&(this[0].multiple?_(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(t){this.value=v(this,e,t,this.value)})},offset:function(e){if(e)return this.each(function(t){var n=_(this),i=v(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof t)return i.style[q(t)]||r.getPropertyValue(t);if(s(t)){var o={};return _.each(s(t)?t:[t],function(e,t){o[t]=i.style[q(t)]||r.getPropertyValue(t)}),o}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+h(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(j in t)t[j]||0===t[j]?a+=l(j)+":"+h(j,t[j])+";":this.each(function(){this.style.removeProperty(l(j))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(_(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return k.some.call(this,function(e){return this.test(b(e))},f(e))},addClass:function(e){return this.each(function(t){O=[];var n=b(this),i=v(this,e,t,n);i.split(/\s+/g).forEach(function(e){_(this).hasClass(e)||O.push(e)},this),O.length&&b(this,n+(n?" ":"")+O.join(" "))})},removeClass:function(e){return this.each(function(t){return e===E?b(this,""):(O=b(this),v(this,e,t,O).split(/\s+/g).forEach(function(e){O=O.replace(f(e)," ")}),b(this,O.trim()),void 0)})},toggleClass:function(e,t){return this.each(function(n){var i=_(this),r=v(this,e,n,b(this));r.split(/\s+/g).forEach(function(e){(t===E?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})})},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=R.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(_(e).css("margin-top"))||0,n.left-=parseFloat(_(e).css("margin-left"))||0,i.top+=parseFloat(_(t[0]).css("border-top-width"))||0,i.left+=parseFloat(_(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!R.test(e.nodeName)&&"static"==_(e).css("position");)e=e.offsetParent;return e})}},_.fn.detach=_.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});_.fn[e]=function(r){var o,s=this[0];return r===E?n(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=_(this),s.css(e,v(this,r,t,s[e]()))})}}),F.forEach(function(t,n){var i=n%2;_.fn[t]=function(){var t,r,o=_.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:X.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null,o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return _(e).remove();w(r.insertBefore(e,t),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},_.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return _(e)[t](this),this}}),X.Z.prototype=_.fn,X.uniq=S,X.deserializeValue=x,_.zepto=X,_}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),define("zepto/zepto",function(){}),function(e){function t(t,i){var u=t[a],c=u&&r[u];if(void 0===i)return c||n(t);if(c){if(i in c)return c[i];var l=s(i);if(l in c)return c[l]}return o.call(e(t),i)}function n(t,n,o){var u=t[a]||(t[a]=++e.uuid),c=r[u]||(r[u]=i(t));return void 0!==n&&(c[s(n)]=o),c}function i(t){var n={};return e.each(t.attributes||u,function(t,i){0==i.name.indexOf("data-")&&(n[s(i.name.replace("data-",""))]=e.zepto.deserializeValue(i.value))}),n}var r={},o=e.fn.data,s=e.camelCase,a=e.expando="Zepto"+ +new Date,u=[];e.fn.data=function(i,r){return void 0===r?e.isPlainObject(i)?this.each(function(t,r){e.each(i,function(e,t){n(r,e,t)})}):0==this.length?void 0:t(this[0],i):this.each(function(){n(this,i,r)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[a],i=n&&r[n];i&&e.each(t,function(){delete i[s(this)]})})}}(Zepto),define("zepto/data",function(){}),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);return(h[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)
})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(t,n,i){"string"!=e.type(t)?e.each(t,i):t.split(/\s/).forEach(function(e){i(e,n)})}function s(e,t){return e.del&&("focus"==e.e||"blur"==e.e)||!!t}function a(e){return m[e]||e}function u(n,r,u,c,l,f){var p=t(n),d=h[p]||(h[p]=[]);o(r,u,function(t,r){var o=i(t);o.fn=r,o.sel=c,o.e in m&&(r=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=l&&l(r,t);var u=o.del||r;o.proxy=function(e){var t=u.apply(n,[e].concat(e.data));return t===!1&&(e.preventDefault(),e.stopPropagation()),t},o.i=d.length,d.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,s(o,f))})}function c(e,i,r,u,c){var l=t(e);o(i||"",r,function(t,i){n(e,t,i,u).forEach(function(t){delete h[l][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,s(t,c))})})}function l(t){var n,i={originalEvent:t};for(n in t)y.test(n)||void 0===t[n]||(i[n]=t[n]);return e.each(b,function(e,n){i[e]=function(){return this[n]=g,t[e].apply(t,arguments)},i[n]=v}),i}function f(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){e.defaultPrevented=!0,t.call(e)}}}var h=(e.zepto.qsa,{}),p=1,d={},m={mouseenter:"mouseover",mouseleave:"mouseout"};d.click=d.mousedown=d.mouseup=d.mousemove="MouseEvents",e.event={add:u,remove:c},e.proxy=function(n,i){if(e.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=t(n),r}if("string"==typeof i)return e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){u(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){c(this,e,t)})},e.fn.one=function(e,t){return this.each(function(n,i){u(this,e,t,null,function(e,t){return function(){var n=e.apply(i,arguments);return c(i,t,e),n}})})};var g=function(){return!0},v=function(){return!1},y=/^([A-Z]|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,i){return this.each(function(r,o){u(o,n,i,t,function(n){return function(i){var r,s=e(i.target).closest(t,o).get(0);return s?(r=e.extend(l(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,n){return this.each(function(){c(this,t,n,e)})},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i){return!n||e.isFunction(n)?this.bind(t,n||i):this.delegate(n,t,i)},e.fn.off=function(t,n,i){return!n||e.isFunction(n)?this.unbind(t,n||i):this.undelegate(n,t,i)},e.fn.trigger=function(t,n){return("string"==typeof t||e.isPlainObject(t))&&(t=e.Event(t)),f(t),t.data=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,o;return this.each(function(s,a){r=l("string"==typeof t?e.Event(t):t),r.data=i,r.target=a,e.each(n(a,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var n=document.createEvent(d[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),n.isDefaultPrevented=function(){return n.defaultPrevented},n}}(Zepto),define("zepto/event",function(){}),function(e){function t(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){c=null,f.last&&(f.el.trigger("longTap"),f={})}function i(){c&&clearTimeout(c),c=null}function r(){s&&clearTimeout(s),a&&clearTimeout(a),u&&clearTimeout(u),c&&clearTimeout(c),s=a=u=c=null,f={}}function o(e){return e.pointerType==e.MSPOINTER_TYPE_TOUCH&&e.isPrimary}var s,a,u,c,l,f={},h=750;e(document).ready(function(){var p,d,m,g=0,v=0;"MSGesture"in window&&(l=new MSGesture,l.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(f.el.trigger("swipe"),f.el.trigger("swipe"+t))}).on("touchstart MSPointerDown",function(t){("MSPointerDown"!=t.type||o(t))&&(m="MSPointerDown"==t.type?t:t.touches[0],p=Date.now(),d=p-(f.last||p),f.el=e("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),f.x1=m.pageX,f.y1=m.pageY,d>0&&250>=d&&(f.isDoubleTap=!0),f.last=p,c=setTimeout(n,h),l&&"MSPointerDown"==t.type&&l.addPointer(t.pointerId))}).on("touchmove MSPointerMove",function(e){("MSPointerMove"!=e.type||o(e))&&(m="MSPointerMove"==e.type?e:e.touches[0],i(),f.x2=m.pageX,f.y2=m.pageY,g+=Math.abs(f.x1-f.x2),v+=Math.abs(f.y1-f.y2))}).on("touchend MSPointerUp",function(n){("MSPointerUp"!=n.type||o(n))&&(i(),f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?u=setTimeout(function(){f.el.trigger("swipe"),f.el.trigger("swipe"+t(f.x1,f.x2,f.y1,f.y2)),f={}},0):"last"in f&&(30>g&&30>v?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=r,f.el.trigger(t),f.isDoubleTap?(f.el.trigger("doubleTap"),f={}):s=setTimeout(function(){s=null,f.el.trigger("singleTap"),f={}},250)},0):f={}),g=v=0)}).on("touchcancel MSPointerCancel",r),e(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),define("zepto/touch",function(){}),function(e){function t(e){var t=this.os={},n=this.browser={},i=e.match(/WebKit\/([\d.]+)/),r=e.match(/(Android);?\s+([\d.]+)?/),o=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&e.match(/TouchPad/),l=e.match(/Kindle\/([\d.]+)/),f=e.match(/Silk\/([\d._]+)/),h=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),d=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=e.match(/PlayBook/),g=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),v=e.match(/Firefox\/([\d.]+)/),y=e.match(/MSIE ([\d.]+)/),b=i&&e.match(/Mobile\//)&&!g,x=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!g,y=e.match(/MSIE\s([\d.]+)/);(n.webkit=!!i)&&(n.version=i[1]),r&&(t.android=!0,t.version=r[2]),a&&!s&&(t.ios=t.iphone=!0,t.version=a[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),s&&(t.ios=t.ipod=!0,t.version=s[3]?s[3].replace(/_/g,"."):null),u&&(t.webos=!0,t.version=u[2]),c&&(t.touchpad=!0),h&&(t.blackberry=!0,t.version=h[2]),p&&(t.bb10=!0,t.version=p[2]),d&&(t.rimtabletos=!0,t.version=d[2]),m&&(n.playbook=!0),l&&(t.kindle=!0,t.version=l[1]),f&&(n.silk=!0,n.version=f[1]),!f&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0),g&&(n.chrome=!0,n.version=g[1]),v&&(n.firefox=!0,n.version=v[1]),y&&(n.ie=!0,n.version=y[1]),b&&(e.match(/Safari/)||t.ios)&&(n.safari=!0),x&&(n.webview=!0),y&&(n.ie=!0,n.version=y[1]),t.tablet=!!(o||m||r&&!e.match(/Mobile/)||v&&e.match(/Tablet/)||y&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(r||a||u||h||p||g&&e.match(/Android/)||g&&e.match(/CriOS\/([\d.]+)/)||v&&e.match(/Mobile/)||y&&e.match(/Touch/)))}t.call(e,navigator.userAgent),e.__detect=t}(Zepto),define("zepto/detect",function(){}),function(e){e.fn.serializeArray=function(){var t,n=[];return e([].slice.call(this.get(0).elements)).each(function(){t=e(this);var i=t.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:t.attr("name"),value:t.val()})}),n},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),define("zepto/form",function(){}),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.defaultPrevented}function n(e,n,i,r){return e.global?t(n||y,i,r):void 0}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var i=t.context;return t.beforeSend.call(i,e,t)===!1||n(t,i,"ajaxBeforeSend",[e,t])===!1?!1:(n(t,i,"ajaxSend",[e,t]),void 0)}function s(e,t,i){var r=i.context,o="success";i.success.call(r,e,o,t),n(i,r,"ajaxSuccess",[t,i,e]),u(o,t,i)}function a(e,t,i,r){var o=r.context;r.error.call(o,i,t,e),n(r,o,"ajaxError",[i,r,e||t]),u(t,i,r)}function u(e,t,i){var o=i.context;i.complete.call(o,t,e),n(i,o,"ajaxComplete",[t,i]),r(i)}function c(){}function l(e){return e&&(e=e.split(";",2)[0]),e&&(e==j?"html":e==E?"json":x.test(e)?"script":w.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function h(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data))}function p(t,n,i,r){var o=!e.isFunction(n);return{url:t,data:o?n:void 0,success:o?e.isFunction(i)?i:void 0:n,dataType:o?r||i:i}}function d(t,n,i,r){var o,s=e.isArray(n);e.each(n,function(n,a){o=e.type(a),r&&(n=i?r:r+"["+(s?"":n)+"]"),!r&&s?t.add(a.name,a.value):"array"==o||!i&&"object"==o?d(t,a,i,n):t.add(n,a)})}var m,g,v=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,x=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,E="application/json",j="text/html",_=/^\s*$/;e.active=0,e.ajaxJSONP=function(t){if(!("type"in t))return e.ajax(t);var n,i=t.jsonpCallback,r=(e.isFunction(i)?i():i)||"jsonp"+ ++v,u=y.createElement("script"),l=function(){clearTimeout(n),e(u).remove(),delete window[r]},f=function(e){l(),e&&"timeout"!=e||(window[r]=c),a(null,e||"abort",h,t)},h={abort:f};return o(h,t)===!1?(f("abort"),!1):(window[r]=function(e){l(),s(e,h,t)},u.onerror=function(){f("error")},u.src=t.url.replace(/=\?/,"="+r),e("head").append(u),t.timeout>0&&(n=setTimeout(function(){f("timeout")},t.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:E,xml:"application/xml, text/xml",html:j,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n=e.extend({},t||{});for(m in e.ajaxSettings)void 0===n[m]&&(n[m]=e.ajaxSettings[m]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var r=n.dataType,u=/=\?/.test(n.url);if("jsonp"==r||u)return u||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),e.ajaxJSONP(n);var p,d=n.accepts[r],v={},y=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,b=n.xhr();n.crossDomain||(v["X-Requested-With"]="XMLHttpRequest"),d&&(v.Accept=d,d.indexOf(",")>-1&&(d=d.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(d)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&(v["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=e.extend(v,n.headers||{}),b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=c,clearTimeout(p);var t,i=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==y){r=r||l(b.getResponseHeader("content-type")),t=b.responseText;try{"script"==r?(1,eval)(t):"xml"==r?t=b.responseXML:"json"==r&&(t=_.test(t)?null:e.parseJSON(t))}catch(o){i=o}i?a(i,"parsererror",b,n):s(t,b,n)}else a(b.statusText||null,b.status?"error":"abort",b,n)}};var x="async"in n?n.async:!0;b.open(n.type,n.url,x);for(g in n.headers)b.setRequestHeader(g,n.headers[g]);return o(b,n)===!1?(b.abort(),!1):(n.timeout>0&&(p=setTimeout(function(){b.onreadystatechange=c,b.abort(),a(null,"timeout",b,n)},n.timeout)),b.send(n.data?n.data:null),b)},e.get=function(){return e.ajax(p.apply(null,arguments))},e.post=function(){var t=p.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=p.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,o=this,s=t.split(/\s/),a=p(t,n,i),u=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(t){o.html(r?e("<div>").html(t.replace(b,"")).find(r):t),u&&u.apply(o,arguments)},e.ajax(a),this};var O=encodeURIComponent;e.param=function(e,t){var n=[];return n.add=function(e,t){this.push(O(e)+"="+O(t))},d(n,e,t),n.join("&").replace(/%20/g,"+")}}(Zepto),define("zepto/ajax",function(){}),define("sayyes/modules/core",["require","zepto/zepto","zepto/data","zepto/event","zepto/touch","zepto/detect","zepto/form","zepto/ajax","req/require"],function(e){e("zepto/zepto"),e("zepto/data"),e("zepto/event"),e("zepto/touch"),e("zepto/detect"),e("zepto/form"),e("zepto/ajax"),e("req/require")}),define("mout/function/prop",[],function(){function e(e){return function(t){return t[e]}}return e}),define("mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),define("mout/object/forIn",[],function(){function e(){r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=!0;for(var e in{toString:null})i=!1}function t(t,o,s){var a,u=0;null==i&&e();for(a in t)if(n(o,t,a,s)===!1)break;if(i)for(;(a=r[u++])&&(t[a]===Object.prototype[a]||n(o,t,a,s)!==!1););}function n(e,t,n,i){return e.call(i,t[n],n,t)}var i,r;return t}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,i,r){t(n,function(t,o){return e(n,o)?i.call(r,n[o],o,n):void 0})}return n}),define("mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(i.call(e))[1]}var t,n=/^\[object (.*)\]$/,i=Object.prototype.toString;return e}),define("mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),define("mout/lang/isArray",["./isKind"],function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}),define("mout/object/deepMatches",["./forOwn","../lang/isArray"],function(e,t){function n(e,t){for(var n=-1,i=e.length;++n<i;)if(o(e[n],t))return!0;return!1}function i(e,t){for(var i=-1,r=t.length;++i<r;)if(!n(e,t[i]))return!1;return!0}function r(t,n){var i=!0;return e(n,function(e,n){return o(t[n],e)?void 0:i=!1}),i}function o(e,n){return e&&"object"==typeof e?t(e)&&t(n)?i(e,n):r(e,n):e===n}return o}),define("mout/function/makeIterator_",["./prop","../object/deepMatches"],function(e,t){function n(n,i){switch(typeof n){case"function":return"undefined"!=typeof i?function(e,t,r){return n.call(i,e,t,r)}:n;case"object":return null!=n?function(e){return t(e,n)}:n;case"string":case"number":return e(n);default:return n}}return n}),define("mout/array/map",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=[];if(null==t)return r;for(var o=-1,s=t.length;++o<s;)r[o]=n(t[o],o,t);return r}return t}),define("mout/array/indexOf",[],function(){function e(e,t,n){if(n=n||0,null==e)return-1;for(var i=e.length,r=0>n?i+n:n;i>r;){if(e[r]===t)return r;r++}return-1}return e}),define("mout/array/filter",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=[];if(null==t)return r;for(var o,s=-1,a=t.length;++s<a;)o=t[s],n(o,s,t)&&r.push(o);return r}return t}),define("mout/array/unique",["./indexOf","./filter"],function(e,t){function n(e){return t(e,i)}function i(t,n,i){return-1===e(i,t,n+1)}return n}),define("mout/array/some",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=!1;if(null==t)return r;for(var o=-1,s=t.length;++o<s;)if(n(t[o],o,t)){r=!0;break}return r}return t}),define("mout/array/contains",["./indexOf"],function(e){function t(t,n){return-1!==e(t,n)}return t}),define("mout/array/difference",["./unique","./filter","./some","./contains"],function(e,t,n,i){function r(r){var o=Array.prototype.slice.call(arguments,1),s=t(e(r),function(e){return!n(o,function(t){return i(t,e)})});return s}return r}),define("mout/object/keys",["./forOwn"],function(e){var t=Object.keys||function(t){var n=[];return e(t,function(e,t){n.push(t)}),n};return t}),define("mout/object/mixIn",["./forOwn"],function(e){function t(t){for(var i,r=0,o=arguments.length;++r<o;)i=arguments[r],null!=i&&e(i,n,t);return t}function n(e,t){this[t]=e}return t}),define("mout/lang/isString",["./isKind"],function(e){function t(t){return e(t,"String")}return t}),define("sayyes/util/model",["mout/array/map","mout/array/difference","mout/object/keys","mout/object/hasOwn","mout/object/mixIn","mout/lang/isString"],function(e,t,n,i,r,o){function s(e){return function(t){if(!o(t))throw"attempt to create a property that isn't a String";e[t]=null}}var a=function(){var o={};arguments.length&&(1===arguments.length&&"object"==typeof arguments[0]?o=arguments[0]:e(Array.prototype.slice.call(arguments),s(o))),this.implements=function(){if(!arguments.length)return!1;var e=n(o),i=null;return arguments.length&&(i=1===arguments.length&&"object"==typeof arguments[0]?n(arguments[0]):Array.prototype.slice.call(arguments)),e.length===i.length&&0===t(i,e).length},this.set=function(e,t){if(!this.has(e))throw"attempt to create new prop '"+e+"'";o[e]=t},this.has=function(e){return i(o,e)},this.get=function(e){return o[e]},this.keys=function(){return n(o)},this.compose=function(e){r(o,e)},this.clone=function(){return new a(o)},this.data=function(){return o}};return a}),define("sayyes/test-specs/spec-model",["sayyes/util/model"],function(e){var t;describe("testing sayyes/utils/model",function(){it("should not be undefined",function(){expect(e).not.toBeUndefined()}),it("should be an object",function(){expect(new e).toEqual(jasmine.any(Object))}),it("should be able to create a new model from keys' list",function(){t=new e("foo","bar"),expect(t.implements({foo:null})).not.toBeTruthy(),expect(t.implements("foo","bar")).toBeTruthy(),expect(function(){new e("foo",null)}).toThrow(),expect(function(){new e("foo",1)}).toThrow()}),it("should be able to create a new model from object",function(){var t=new e({foo:null});expect(t.implements({foo:null})).toBeTruthy(),expect(t.implements("foo")).toBeTruthy(),expect(t.implements("foo","bar")).not.toBeTruthy()}),it("should be able to set and get values",function(){t=new e({foo:"bar",say:null}),expect(t.get("foo")).toBe("bar"),expect(t.get("say")).toBe(null),t.set("say","yes"),expect(t.get("say")).toBe("yes")}),it("should be able to prevent new properties being created via 'set' method",function(){t=new e("foo","bar"),expect(t.set).toThrow(),expect(function(){t.set("hello")}).toThrow()}),it("should be able to componse the model already set with more properties",function(){t=new e("foo","bar"),t.compose({loren:"ipsun"}),expect(t.implements("foo","bar","loren")).toBeTruthy(),expect(t.data()).toEqual({foo:null,bar:null,loren:"ipsun"})}),it("should be able to clone itself",function(){t=new e("foo","bar");var n=t.clone();expect(t.data()).toEqual(n.data())}),it("should be able to return model's data",function(){t=new e({foo:"bar"}),expect(t.data()).toEqual({foo:"bar"})})})}),define("sayyes/util/vo/result-vo",["sayyes/util/model"],function(e){var t=function(){return new e("status","exception","message","value")};return t}),define("sayyes/util/vo/controller-vo",["sayyes/util/model"],function(e){var t=function(){return new e("id","attendant","client","start_with","views")};return t}),define("sayyes/util/vo/view-vo",["sayyes/util/model"],function(e){var t=function(){return new e("name","template_name","data")};return t}),define("sayyes/test-specs/spec-vos",["sayyes/util/vo/result-vo","sayyes/util/vo/controller-vo","sayyes/util/vo/view-vo"],function(e,t,n){var i;describe("testing sayyes/util/vo/result-vo",function(){it("should not be undefined",function(){expect(e).not.toBeUndefined()}),it("should be an object",function(){expect(new e).toEqual(jasmine.any(Object))}),it("should be an object that implements: 'status','exception', 'message', 'value'",function(){i=new e,expect(i.implements("status","exception","message","value")).toBeTruthy()})}),describe("testing sayyes/util/vo/controller-vo",function(){it("should not be undefined",function(){expect(t).not.toBeUndefined()}),it("should be an object",function(){expect(new t).toEqual(jasmine.any(Object))}),it("should be an object that implements: 'id','attendant','client','start_with','views'",function(){i=new t,expect(i.implements("id","attendant","client","start_with","views")).toBeTruthy()})}),describe("testing sayyes/util/vo/view-vo",function(){it("should not be undefined",function(){expect(n).not.toBeUndefined()}),it("should be an object",function(){expect(new n).toEqual(jasmine.any(Object))}),it("should be an object that implements: 'name','template_name','data'",function(){i=new n,expect(i.implements("name","template_name","data")).toBeTruthy()})})}),define("sayyes/util/log",[],function(){var e,t,n,i,r,o,s,a,u,c,l;return s=1,a=2,u=4,c=1,l=2,o=/[\d]{2}:[\d]{2}:[\d]{2}/g,i=function(){n||(n=new e,n.history=[],n.keep_history=!1,n.max_history=100,n.verbose=!0,n.verbose_type=c)},r=function(e,i){var r=new t(e,i);n.keep_history&&(n.history.push(r),n.history.length-1===n.max_history&&n.history.shift()),n.verbose&&__yeld(r)},__yeld=function(e){if(e){if(n.verbose_type===l)return console.dir(e),void 0;var t;switch(e.type){case s:t=console.info;break;case a:t=console.warn;break;case u:t=console.error}t&&t.apply(window.console,[e.prefix].concat(e.message))}},t=function(e,t){this.type=e,this.message=t;var n=new Date;this.prefix=(n.toTimeString().match(o)[0]||"")+":"+n.getMilliseconds()},e=function(){this.type_object=l,this.type_message=c},e.prototype={info:function(){r(s,Array.prototype.slice.call(arguments))},warn:function(){r(a,Array.prototype.slice.call(arguments))},error:function(){r(u,Array.prototype.slice.call(arguments))},dump:function(){for(var e=0,t=this.history.length;t>e;e++)__yeld(this.history[e])},clear:function(){this.history=[]}},i(),n}),function(e){function t(e,t,n,i,r){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=r||0}function n(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,i,r){var o,s=this._indexOfListener(e,i);if(-1!==s){if(o=this._bindings[s],o.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new t(this,e,n,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return n(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return n(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){n(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){e=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(e[n]&&this._shouldPropagate&&e[n].execute(t)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=i;r.Signal=i,"function"==typeof define&&define.amd?define("signals/signals",[],function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:e.signals=r}(this),define("mout/array/every",["../function/makeIterator_"],function(e){function t(t,n,i){n=e(n,i);var r=!0;if(null==t)return r;for(var o=-1,s=t.length;++o<s;)if(!n(t[o],o,t)){r=!1;break}return r}return t}),define("sayyes/util/ajax",["sayyes/util/log","sayyes/util/vo/result-vo","signals/signals","mout/lang/kindOf","mout/array/every","mout/object/hasOwn"],function(e,t,n,i,r,o){function s(e){var n,s,a,u;if("json"===this.options.dataType)if("Object"===i(e)){if(s=r(this._xpect,function(t){switch(a=t[0],u=t[1],i(u)){case"Function":return o(e,a)&&u.call(null,e[a]);default:return o(e,a)&&e[a]===u}}),s===!1)return n=new t,n.set("status","error"),n.set("exception",this.NOT_MATCH),n.set("message","'"+a+"' doesn't match expected values"),n.set("value",e),this.result=n.data(),this.on.error.dispatch(this.result),void 0;this.result=e,this.on.success.dispatch(this.result)}else n=new t,n.set("status","error"),n.set("exception",this.MALFORMED_JSON),n.set("message","result isn't a valid JSON"),this.result=n.data(),this.on.error.dispatch(this.result);else this.result=e,this.on.success.dispatch(this.result)}function a(e){if(this.status=this.status_idle,this._xpect)return s.bind(this)(e),void 0;if(null===e){var n=new t;return n.set("status","error"),n.set("exception",this.REQUEST_FAILED),n.set("message","XHR couldn't complete the resquest"),this.result=n.data(),this.on.error.dispatch(this.result),void 0}this.result=e,this.on.success.dispatch(this.result)}function u(e){this.status=this.status_idle,this.result=new t,this.result.set("exception",e.status),this.result.set("message",e.responseText),this.on.error.dispatch(this.result.data())}function c(e){e.status_idle=0,e.status_running=1,e.status=e.status_idle,e.on={success:new n,error:new n},e.options={type:"GET",url:null,data:null,processData:!1,dataType:"json",timeout:2e3,context:e,cache:!0,success:a.bind(e),error:u.bind(e)},e.MALFORMED_JSON=-100,e.NOT_MATCH=-101,e.REQUEST_FAILED=-102,e.ALLOWED_TYPES=["json","jsonp","xml","html","text"]}var l=function(e){c(this),this.options.type=e||this.options.type};return l.prototype={method:function(e){return this.options.type=e||this.options.type,this},type:function(e,t){if(-1===this.ALLOWED_TYPES.indexOf(e))throw"argument must be:'"+this.ALLOWED_TYPES.join("','")+"'";return"jsonp"===e&&t&&(this.options.jsonpCallback=t),this.options.dataType=e||this.options.dataType,this},allow_cache:function(e){return this.options.cache=Boolean(e),this},success:function(e){if(!e||"function"!=typeof e)throw"argument must be a function";return this.on.success.add(e),this},error:function(e){if(!e||"function"!=typeof e)throw"argument must be a function";return this.on.error.add(e),this},dispose:function(){this.on.error.removeAll(),this.on.success.removeAll(),this.mock_data=null,c(this)},expect:function(e,t){return this._xpect||(this._xpect=[]),this._xpect.push([e,t]),this},mock:function(e){return this.mock_data=e,this},request:function(t,n){return this.status!==this.status_idle?(e.error("ajax.request :: alredy running..."),null):t?(this.status=this.status_running,this.mock_data?(this.options.success(this.mock_data),this.mock_data=void 0):(this.options.url=t,this.options.data=n,e.info("ajax.request => "+t+" method:"+this.options.type," data:",this.options.data),$.ajax(this.options)),this):(e.error("ajax.request can't be done without url."),null)}},l}),define("sayyes/test-specs/spec-ajax",["sayyes/util/ajax"],function(e){var t;describe("testing sayyes/utils/ajax",function(){it("should not be undefined",function(){expect(e).not.toBeUndefined()}),it("should be an object",function(){expect(new e).toEqual(jasmine.any(Object))}),it("should be able to set the request's method",function(){t=new e,t.method("post"),expect(t.options.type).toEqual("post"),t.method(null),expect(t.options.type).toEqual("post")}),it("should be able to set request's type (ie: json, jsonp, xml, html, text)",function(){t=new e,t.type("text"),expect(t.options.dataType).toEqual("text")}),it("should not be able to set unsupported types (ie: json, jsonp, xml, html, text)",function(){t=new e,expect(function(){t.type(null)}).toThrow()}),it("should be able to allow request's cache",function(){t=new e,t.allow_cache(!0),expect(t.options.cache).toEqual(!0),t.allow_cache(!1),expect(t.options.cache).toEqual(!1)}),it("should be able to define success callbacks",function(){t=new e,expect(t.success(function(){})).toEqual(t)}),it("should not be able to define invalid success callbacks",function(){t=new e,expect(t.success).toThrow()}),it("should be able to define error callbacks",function(){t=new e,expect(t.error(function(){})).toEqual(t)}),it("should not be able to define invalid error callbacks",function(){t=new e,expect(t.error).toThrow()}),it("should be able to mock ajax's resquest",function(){t=new e,t.success(function(e){expect(e).toEqual({foo:"bar"})}).mock({foo:"bar"}).request("foo/url")}),it("shouldn't request while a pending request still running.",function(){t=new e,t.request("/mock-data/mock-view.json"),expect(t.request("/mock-data/mock-view.json")).toEqual(null)}),it("should be able to match expected JSON result",function(){var n;t=new e,t.success(function(e){n=e}).mock({foo:"bar",hello:"world"}).expect("foo","bar").expect("hello",function(e){return"world"===e}),runs(function(){t.request("foo/url")}),waitsFor(function(){return!!n},"success callback to be trigged",100),runs(function(){expect(n).toEqual({foo:"bar",hello:"world"})})}),it("should fail when expected JSON result doesn't match",function(){var n;t=new e,t.error(function(e){n=e}).mock({foo:"bar"}).expect("foo","hello"),runs(function(){t.request("foo/url")}),waitsFor(function(){return!!n},"error callback to be trigged",100),runs(function(){expect(n.status).toEqual("error")})}),it("should be able load JSON services",function(){var n;t=new e,t.success(function(e){n=e}),runs(function(){t.request("/mock-data/mock-view.json")}),waitsFor(function(){return!!n},"error callback to be trigged",500),runs(function(){expect(n).toEqual(jasmine.any(Object))})}),it("should be able to handle crossdomain errors",function(){var n;t=new e,t.error(function(e){n=e}),runs(function(){t.request("https://raw.github.com/sayyesassistant/sayyes/master/static/mock/mock-view.json")}),waitsFor(function(){return!!n},"error callback to be trigged",2e3),runs(function(){expect(n.exception).toEqual(0)
})}),it("should be able to handle 404 urls",function(){var n;t=new e,t.error(function(e){n=e}),runs(function(){t.request("/foo/bar.json")}),waitsFor(function(){return!!n},"error callback to be trigged",2e3),runs(function(){expect(n.exception).toEqual(404)})}),it("should be able to load jsonp services",function(){var n;t=new e,t.type("jsonp","jsonFlickrFeed"),t.success(function(e){n=e}),runs(function(){t.request("http://api.flickr.com/services/feeds/photos_public.gne?format=json")}),waitsFor(function(){return!!n},"error callback to be trigged",2e3),runs(function(){expect(n).toEqual(jasmine.any(Object))})}),it("should be able to load xml",function(){var n;t=new e,t.type("xml"),t.success(function(e){n=e}),runs(function(){t.request("/mock-data/crossdomain.xml")}),waitsFor(function(){return!!n},"error callback to be trigged",3e3),runs(function(){expect(n).toEqual(jasmine.any(Object))})})})}),define("sayyes/test-specs/spec-log",["sayyes/util/log"],function(e){window.log=e,describe("testing sayyes/util/log",function(){it("should not be undefined",function(){expect(e).not.toBeUndefined()}),it("should be a singleton",function(){expect(function(){new e}).toThrow()}),it("should be a singleton",function(){expect(function(){new e}).toThrow()}),it("should not keep history by default",function(){e.info("this log shouldn't be kept by history"),expect(e.history.length).toBe(0)}),it("should keep history when keep_history is true",function(){e.keep_history=!0,e.info("this log should be kept"),expect(e.history.length).toBe(1)}),it("should respect max_history property",function(){e.keep_history=!0,e.max_history=2,e.info("foo1"),e.info("foo2"),e.info("foo3"),expect(e.history.length).toBe(2)}),it("should clear history after reset",function(){e.clear(),expect(e.history.length).toBe(0)})})}),require(["lib/domReady","sayyes/modules/core","sayyes/test-specs/spec-model","sayyes/test-specs/spec-vos","sayyes/test-specs/spec-ajax","sayyes/test-specs/spec-log"],function(e){e(__init_tests__)}),define("sayyes/test-specs/specs",function(){});